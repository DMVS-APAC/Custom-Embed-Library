/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/entries/dm-embed.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/dm-player/dm-player.ts":
/*!************************************!*\
  !*** ./src/dm-player/dm-player.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// Libraries\n// import { waitFor } from '../utilities/wait-for';\nvar DmPlayer = /** @class */ (function () {\n    function DmPlayer(rootEls) {\n        this.rootEls = null;\n        this.playerParams = null;\n        this.searchParams = null;\n        this.videoParams = null;\n        this.rootEls = rootEls;\n        this.addEventListeners();\n        this.registerNewEvents();\n        this.extractAttrs();\n    }\n    DmPlayer.prototype.addEventListeners = function () {\n        var self = this;\n        document.addEventListener('dm-api-ready', function (e) {\n            self.loadDmPlayer();\n        });\n        document.addEventListener('dm-player-extracted', function (e) {\n            self.prepareSearchParams();\n        });\n        document.addEventListener('dm-search-params-ready', function (e) {\n            self.searchVideo();\n        });\n    };\n    DmPlayer.prototype.registerNewEvents = function () {\n        // listen to api to be ready\n        this.apiReady = new Event('dm-api-ready');\n        // listen to extract player attribute to be extracted\n        this.playerExtracted = new Event('dm-player-extracted');\n        // listen to search params to be ready\n        this.searchParamsReady = new Event('dm-search-params-ready');\n    };\n    DmPlayer.prototype.extractAttrs = function () {\n        var rootEl = this.rootEls[0];\n        this.playerParams = {\n            maxWordSearch: rootEl.getAttribute('maxWordSearch') ? Number(rootEl.getAttribute('maxWordSearch')) : 15,\n            minWordLength: rootEl.getAttribute('minWordLength') ? Number(rootEl.getAttribute('minWordLength')) : 4,\n            minWordSearch: rootEl.getAttribute('minWordSearch') ? Number(rootEl.getAttribute('minWordSearch')) : 2,\n            language: rootEl.getAttribute(\"language\") ? rootEl.getAttribute(\"language\") : \"\",\n            sort: rootEl.getAttribute(\"sort\") ? rootEl.getAttribute(\"sort\") : \"recent\",\n            owners: rootEl.getAttribute(\"owners\") ? rootEl.getAttribute(\"owners\") : \"\",\n            category: rootEl.getAttribute(\"category\") ? rootEl.getAttribute(\"category\") : \"\",\n            excludeIds: rootEl.getAttribute(\"excludeIds\") ? rootEl.getAttribute(\"excludeIds\") : \"\",\n            searchInPlaylist: rootEl.getAttribute(\"searchInPlaylist\") ? rootEl.getAttribute(\"searchInPlaylist\") : false,\n            syndication: rootEl.getAttribute(\"syndication\") ? rootEl.getAttribute(\"syndication\") : \"\",\n            autoPlayMute: (rootEl.getAttribute(\"autoPlayMute\") != 'false'),\n            queueEnable: (rootEl.getAttribute('queueEnable') != 'false'),\n            queueEnableNext: (rootEl.getAttribute('queueEnableNext') != 'false'),\n            controls: (rootEl.getAttribute('controls') != 'false'),\n            adsParams: rootEl.getAttribute('adsParams') ? rootEl.getAttribute('adsParams') : \"contextual\",\n            cpeId: rootEl.getAttribute('cpeId') ? rootEl.getAttribute('cpeId').split(',') : [''],\n            keywordsSelector: rootEl.getAttribute('keywordsSelector') ? rootEl.getAttribute('keywordsSelector') : null\n        };\n        // Tell the event listener that player parameters is extracted\n        document.dispatchEvent(this.playerExtracted);\n    };\n    DmPlayer.prototype.prepareSearchParams = function () {\n        var keywords = this.findKeywords(this.playerParams.keywordsSelector);\n        this.searchParams = {\n            fields: 'id,title',\n            limit: 1,\n            sort: this.playerParams.sort,\n            search: keywords ? keywords.sort(function (a, b) { return b.length - a.length; }).slice(0, this.playerParams.maxWordSearch).join(' ') : \"\",\n            language: this.playerParams.language ? this.playerParams.language : ''\n        };\n        if (!this.playerParams.searchInPlaylist) {\n            this.searchParams.private = 0;\n            this.searchParams.flags = \"no_live,exportable\" + (this.playerParams.owners.length > 0 ? \"\" : \",verified\");\n            this.searchParams.longer_than = 0.35; //21sec\n            if (this.playerParams.owners)\n                this.searchParams.owners = this.playerParams.owners;\n            if (this.playerParams.category)\n                this.searchParams.channel = this.playerParams.category;\n            if (this.playerParams.excludeIds)\n                this.searchParams.exclude_ids = this.playerParams.excludeIds;\n        }\n        if (this.playerParams.language)\n            this.searchParams.language = this.playerParams.language;\n        // Tell the event listener that search params is ready\n        document.dispatchEvent(this.searchParamsReady);\n    };\n    DmPlayer.prototype.htmlEntities = function (str) {\n        return String(str).replace(/&/g, '%26').replace(/=/g, '%3d');\n    };\n    DmPlayer.prototype.loadDmPlayer = function () {\n        var rootEl = this.rootEls[0];\n        var cpeEmbed = document.createElement(\"div\");\n        var queryString = \"\";\n        if (this.playerParams.adsParams === \"\") {\n            queryString += \"ads_params=contextual\";\n        }\n        else {\n            queryString += \"ads_params=\" + this.htmlEntities(this.playerParams.adsParams);\n        }\n        if (this.playerParams.syndication !== \"\")\n            queryString += \"&syndication=\" + this.playerParams.syndication;\n        if (this.playerParams.controls !== true)\n            queryString += \"&controls=\" + this.playerParams.controls;\n        cpeEmbed.setAttribute(\"class\", \"dailymotion-cpe\");\n        cpeEmbed.setAttribute(\"video-id\", this.videoParams.id);\n        cpeEmbed.setAttribute(\"query-string\", queryString);\n        if (rootEl.getAttribute(\"width\") !== null) {\n            this.playerParams.width = Number(rootEl.getAttribute(\"width\"));\n            cpeEmbed.setAttribute(\"width\", rootEl.getAttribute(\"width\"));\n        }\n        if (rootEl.getAttribute(\"height\") !== null) {\n            this.playerParams.height = Number(rootEl.getAttribute(\"height\"));\n            cpeEmbed.setAttribute(\"height\", rootEl.getAttribute(\"height\"));\n        }\n        var cpeId = this.playerParams.cpeId[0];\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))\n            cpeId = this.playerParams.cpeId[1] ? this.playerParams.cpeId[1] : this.playerParams.cpeId[0];\n        // Avoid error while building\n        var date = new Date();\n        // Append the element to the root player element\n        rootEl.appendChild(cpeEmbed);\n        // Load the script\n        (function (w, d, s, u, n, i, f, g, e, c) { w.WDMObject = n; w[n] = w[n] || function () { (w[n].q = w[n].q || []).push(arguments); }; w[n].l = 1 * date; w[n].i = i; w[n].f = f; w[n].g = g; e = d.createElement(s); e.async = 1; e.src = u; c = d.getElementsByTagName(s)[0]; c.parentNode.insertBefore(e, c); })(window, document, \"script\", \"//api.dmcdn.net/pxl/cpe/client.min.js\", \"cpe\", cpeId);\n    };\n    DmPlayer.prototype.setVideo = function (video) {\n        this.videoParams = video;\n        document.dispatchEvent(this.apiReady);\n    };\n    DmPlayer.prototype.searchVideo = function () {\n        var _this = this;\n        console.log(\"%c DM related \", \"background: #56C7FF; color: #232323\", \"Search: \" + this.searchParams.search);\n        var properties = Object.entries(this.searchParams).map(function (_a) {\n            var key = _a[0], value = _a[1];\n            return encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n        }).join('&');\n        var dmSearchUrl = \"https://api.dailymotion.com/\" + (this.playerParams.searchInPlaylist ? \"playlist/\" + this.playerParams.searchInPlaylist + \"/videos\" : \"videos\") + \"?\" + properties;\n        fetch(dmSearchUrl).then(function (response) {\n            return response.json();\n        }).then(function (data) {\n            if (data.total > 0) {\n                _this.setVideo(data.list[0]);\n            }\n            else {\n                // this.searchParams.search = this.searchParams.search.substring(0, this.searchParams.search.lastIndexOf(' '));\n                // if(this.searchParams.search.split(' ').length >= this.playerParams.minWordSearch && this.searchParams.search.length > 0)\n                //     this.searchVideo();\n                // else{\n                console.log(\"%c DM related \", \"background: #56C7FF; color: #232323\", \"Can not find related video. Fallback video used.\");\n                _this.getFallbackVideo();\n                // }\n            }\n        });\n    };\n    DmPlayer.prototype.getFallbackVideo = function () {\n        // Define current time and 30 days\n        var currentTime = Math.floor(Date.now() / 1000);\n        var thirtyDays = 2592000;\n        var url = \"https://api.dailymotion.com/\" + (this.playerParams.searchInPlaylist ? \"playlist/\" + this.playerParams.searchInPlaylist + \"/videos?\" : \"videos?owners=\" + this.playerParams.owners) + \"&created_after=\" + (currentTime - thirtyDays) + \"&sort=random&limit=1&fields=id,title\";\n        var self = this;\n        fetch(url).then(function (response) {\n            return response.json();\n        }).then(function (data) {\n            if (data.list.length > 0) {\n                /**\n                 * Data return array, get the first array and pass it to setVideo function\n                 */\n                self.setVideo(data.list[0]);\n            }\n            else {\n                console.warn(\"DM related Unable to find a fallback video\");\n            }\n        });\n    };\n    /**\n     * Find keywords strings on website\n     *\n     * Step find keywords string\n     * 1. Find meta keywords\n     * 2. Find\n     */\n    DmPlayer.prototype.findKeywords = function (selector) {\n        var keywords = [''];\n        if (selector !== null) {\n            var keywordContainer = document.querySelector(selector);\n            keywords = this.sanitizeKeywords(keywordContainer.getAttribute(\"content\"));\n        }\n        else if ((typeof selector === \"undefined\") && typeof document.getElementsByTagName(\"h1\")[0] !== \"undefined\") {\n            keywords = this.sanitizeKeywords(document.getElementsByTagName(\"h1\")[0].textContent);\n        }\n        return keywords;\n    };\n    /**\n     * Sanitize keywords based on language\n     *\n     * Hangul (Korea): \\u3131-\\uD79D\n     * Alphabet: a-zA-Z0-9\n     * Latin Character: \\u00C0-\\u00FF\n     * Devanagri (India): \\u0900-\\u097F\n     */\n    DmPlayer.prototype.sanitizeKeywords = function (keywords) {\n        var _this = this;\n        var splitWords = keywords.replace(/[^- \\u3131-\\uD79D a-zA-Z0-9 \\u00C0-\\u00FF \\u0153]/g, ' ')\n            .split(' ')\n            .filter(function (word) { return word.length >= _this.playerParams.minWordLength; });\n        return splitWords;\n    };\n    return DmPlayer;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (DmPlayer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZG0tcGxheWVyL2RtLXBsYXllci50cz9jYzMzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsWUFBWTtBQUNaLG1EQUFtRDtBQWlCbkQ7SUFXSSxrQkFBbUIsT0FBbUM7UUFWOUMsWUFBTyxHQUErQixJQUFJLENBQUM7UUFDM0MsaUJBQVksR0FBYyxJQUFJLENBQUM7UUFDL0IsaUJBQVksR0FBYyxJQUFJLENBQUM7UUFDL0IsZ0JBQVcsR0FBYSxJQUFJLENBQUM7UUFRakMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFFdkIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFTyxvQ0FBaUIsR0FBekI7UUFDSSxJQUFNLElBQUksR0FBRyxJQUFJLENBQUM7UUFFbEIsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxVQUFFLENBQUM7WUFDekMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxDQUFDO1FBRUgsUUFBUSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixFQUFFLFVBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMvQixDQUFDLENBQUMsQ0FBQztRQUVILFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBRSx3QkFBd0IsRUFBRSxVQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVPLG9DQUFpQixHQUF6QjtRQUVJLDRCQUE0QjtRQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBRTFDLHFEQUFxRDtRQUNyRCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksS0FBSyxDQUFD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QUksT0FBTyxRQUFRLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssV0FBVyxFQUFFO1lBQzVHLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3hGO1FBRUQsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDTyxtQ0FBZ0IsR0FBMUIsVUFBMkIsUUFBZ0I7UUFBM0MsaUJBT0M7UUFMRyxJQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLG9EQUFvRCxFQUFFLEdBQUcsQ0FBQzthQUN6RixLQUFLLENBQUMsR0FBRyxDQUFDO2FBQ1YsTUFBTSxDQUFDLGNBQUksSUFBSSxXQUFJLENBQUMsTUFBTSxJQUFJLEtBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUE5QyxDQUE4QyxDQUFDLENBQUM7UUFFcEUsT0FBTyxVQUFVLENBQUM7SUFDdEIsQ0FBQztJQUVMLGVBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc3JjL2RtLXBsYXllci9kbS1wbGF5ZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWJyYXJpZXNcbi8vIGltcG9ydCB7IHdhaXRGb3IgfSBmcm9tICcuLi91dGlsaXRpZXMvd2FpdC1mb3InO1xuXG4vLyBJbnRlcmZhY2VzXG5pbXBvcnQgaW5mUGxheWVyIGZyb20gJy4vaW50ZXJmYWNlcy9pbmZQbGF5ZXInO1xuaW1wb3J0IGluZlNlYXJjaCBmcm9tIFwiLi9pbnRlcmZhY2VzL2luZlNlYXJjaFwiO1xuaW1wb3J0IGluZlZpZGVvIGZyb20gXCIuL2ludGVyZmFjZXMvaW5mVmlkZW9cIjtcblxuLy8gUmVzZXJ2ZSBETSB2YXJpYWJsZSBmb3IgZnV0dXJlIHB1cnBvc2VzXG4vLyBkZWNsYXJlIGNvbnN0IERNOiBhbnk7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICAgICAgV0RNT2JqZWN0OiBhbnk7XG4gICAgICAgIGNwZTogYW55O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG1QbGF5ZXIge1xuICAgIHByaXZhdGUgcm9vdEVsczogTm9kZUxpc3RPZjxIVE1MRGl2RWxlbWVudD4gPSBudWxsO1xuICAgIHByaXZhdGUgcGxheWVyUGFyYW1zOiBpbmZQbGF5ZXIgPSBudWxsO1xuICAgIHByaXZhdGUgc2VhcmNoUGFyYW1zOiBpbmZTZWFyY2ggPSBudWxsO1xuICAgIHByaXZhdGUgdmlkZW9QYXJhbXM6IGluZlZpZGVvID0gbnVsbDtcblxuICAgIC8vIEV2ZW50c1xuICAgIHByaXZhdGUgYXBpUmVhZHk6IEV2ZW50O1xuICAgIHByaXZhdGUgcGxheWVyRXh0cmFjdGVkOiBFdmVudDtcbiAgICBwcml2YXRlIHNlYXJjaFBhcmFtc1JlYWR5OiBFdmVudDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihyb290RWxzOiBOb2RlTGlzdE9mPEhUTUxEaXZFbGVtZW50Pikge1xuICAgICAgICB0aGlzLnJvb3RFbHMgPSByb290RWxzO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck5ld0V2ZW50cygpO1xuICAgICAgICB0aGlzLmV4dHJhY3RBdHRycygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RtLWFwaS1yZWFkeScsICggZSkgPT4ge1xuICAgICAgICAgICAgc2VsZi5sb2FkRG1QbGF5ZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZG0tcGxheWVyLWV4dHJhY3RlZCcsIChlKSA9PiB7XG4gICAgICAgICAgICBzZWxmLnByZXBhcmVTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2RtLXNlYXJjaC1wYXJhbXMtcmVhZHknLCAoZSkgPT4ge1xuICAgICAgICAgICAgc2VsZi5zZWFyY2hWaWRlbygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZ2lzdGVyTmV3RXZlbnRzKCkge1xuXG4gICAgICAgIC8vIGxpc3RlbiB0byBhcGkgdG8gYmUgcmVhZHlcbiAgICAgICAgdGhpcy5hcGlSZWFkeSA9IG5ldyBFdmVudCgnZG0tYXBpLXJlYWR5Jyk7XG5cbiAgICAgICAgLy8gbGlzdGVuIHRvIGV4dHJhY3QgcGxheWVyIGF0dHJpYnV0ZSB0byBiZSBleHRyYWN0ZWRcbiAgICAgICAgdGhpcy5wbGF5ZXJFeHRyYWN0ZWQgPSBuZXcgRXZlbnQoJ2RtLXBsYXllci1leHRyYWN0ZWQnKTtcblxuICAgICAgICAvLyBsaXN0ZW4gdG8gc2VhcmNoIHBhcmFtcyB0byBiZSByZWFkeVxuICAgICAgICB0aGlzLnNlYXJjaFBhcmFtc1JlYWR5ID0gbmV3IEV2ZW50KCdkbS1zZWFyY2gtcGFyYW1zLXJlYWR5Jyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleHRyYWN0QXR0cnMoKSB7XG4gICAgICAgIGNvbnN0IHJvb3RFbCA9IHRoaXMucm9vdEVsc1swXTtcblxuICAgICAgICB0aGlzLnBsYXllclBhcmFtcyA9IHtcbiAgICAgICAgICAgIG1heFdvcmRTZWFyY2g6IHJvb3RFbC5nZXRBdHRyaWJ1dGUoJ21heFdvcmRTZWFyY2gnKSA/IE51bWJlcihyb290RWwuZ2V0QXR0cmlidXRlKCdtYXhXb3JkU2VhcmNoJykpIDogMTUsXG4gICAgICAgICAgICBtaW5Xb3JkTGVuZ3RoOiByb290RWwuZ2V0QXR0cmlidXRlKCdtaW5Xb3JkTGVuZ3RoJykgPyBOdW1iZXIocm9vdEVsLmdldEF0dHJpYnV0ZSgnbWluV29yZExlbmd0aCcpKSA6IDQsXG4gICAgICAgICAgICBtaW5Xb3JkU2VhcmNoOiByb290RWwuZ2V0QXR0cmlidXRlKCdtaW5Xb3JkU2VhcmNoJykgPyBOdW1iZXIocm9vdEVsLmdldEF0dHJpYnV0ZSgnbWluV29yZFNlYXJjaCcpKSA6IDIsXG4gICAgICAgICAgICBsYW5ndWFnZTogcm9vdEVsLmdldEF0dHJpYnV0ZShcImxhbmd1YWdlXCIpID8gcm9vdEVsLmdldEF0dHJpYnV0ZShcImxhbmd1YWdlXCIpIDogXCJcIixcbiAgICAgICAgICAgIHNvcnQ6ICByb290RWwuZ2V0QXR0cmlidXRlKFwic29ydFwiKSA/IHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJzb3J0XCIpIDogXCJyZWNlbnRcIixcbiAgICAgICAgICAgIG93bmVyczogcm9vdEVsLmdldEF0dHJpYnV0ZShcIm93bmVyc1wiKSA/IHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJvd25lcnNcIikgOiBcIlwiLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJjYXRlZ29yeVwiKSA/IHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJjYXRlZ29yeVwiKSA6IFwiXCIsXG4gICAgICAgICAgICBleGNsdWRlSWRzOiByb290RWwuZ2V0QXR0cmlidXRlKFwiZXhjbHVkZUlkc1wiKSA/IHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJleGNsdWRlSWRzXCIpIDogXCJcIixcbiAgICAgICAgICAgIHNlYXJjaEluUGxheWxpc3Q6IHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJzZWFyY2hJblBsYXlsaXN0XCIpID8gcm9vdEVsLmdldEF0dHJpYnV0ZShcInNlYXJjaEluUGxheWxpc3RcIikgOiBmYWxzZSxcbiAgICAgICAgICAgIHN5bmRpY2F0aW9uOiByb290RWwuZ2V0QXR0cmlidXRlKFwic3luZGljYXRpb25cIikgPyByb290RWwuZ2V0QXR0cmlidXRlKFwic3luZGljYXRpb25cIikgOiBcIlwiLFxuICAgICAgICAgICAgYXV0b1BsYXlNdXRlOiAocm9vdEVsLmdldEF0dHJpYnV0ZShcImF1dG9QbGF5TXV0ZVwiKSAhPSAnZmFsc2UnKSxcbiAgICAgICAgICAgIHF1ZXVlRW5hYmxlOiAocm9vdEVsLmdldEF0dHJpYnV0ZSgncXVldWVFbmFibGUnKSAhPSAnZmFsc2UnKSxcbiAgICAgICAgICAgIHF1ZXVlRW5hYmxlTmV4dDogKHJvb3RFbC5nZXRBdHRyaWJ1dGUoJ3F1ZXVlRW5hYmxlTmV4dCcpICE9ICdmYWxzZScpLFxuICAgICAgICAgICAgY29udHJvbHM6IChyb290RWwuZ2V0QXR0cmlidXRlKCdjb250cm9scycpICE9ICdmYWxzZScpLFxuICAgICAgICAgICAgYWRzUGFyYW1zOiByb290RWwuZ2V0QXR0cmlidXRlKCdhZHNQYXJhbXMnKSA/IHJvb3RFbC5nZXRBdHRyaWJ1dGUoJ2Fkc1BhcmFtcycpIDogXCJjb250ZXh0dWFsXCIsXG4gICAgICAgICAgICBjcGVJZDogcm9vdEVsLmdldEF0dHJpYnV0ZSgnY3BlSWQnKSA/IHJvb3RFbC5nZXRBdHRyaWJ1dGUoJ2NwZUlkJykuc3BsaXQoJywnKSA6IFsnJ10sXG4gICAgICAgICAgICBrZXl3b3Jkc1NlbGVjdG9yOiByb290RWwuZ2V0QXR0cmlidXRlKCdrZXl3b3Jkc1NlbGVjdG9yJykgPyByb290RWwuZ2V0QXR0cmlidXRlKCdrZXl3b3Jkc1NlbGVjdG9yJykgOiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGVsbCB0aGUgZXZlbnQgbGlzdGVuZXIgdGhhdCBwbGF5ZXIgcGFyYW1ldGVycyBpcyBleHRyYWN0ZWRcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCh0aGlzLnBsYXllckV4dHJhY3RlZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcmVwYXJlU2VhcmNoUGFyYW1zKCkge1xuICAgICAgICBjb25zdCBrZXl3b3JkcyA9IHRoaXMuZmluZEtleXdvcmRzKHRoaXMucGxheWVyUGFyYW1zLmtleXdvcmRzU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLnNlYXJjaFBhcmFtcyA9IHtcbiAgICAgICAgICAgIGZpZWxkczogJ2lkLHRpdGxlJyxcbiAgICAgICAgICAgIGxpbWl0OiAxLFxuICAgICAgICAgICAgc29ydDogdGhpcy5wbGF5ZXJQYXJhbXMuc29ydCxcbiAgICAgICAgICAgIHNlYXJjaDoga2V5d29yZHMgPyBrZXl3b3Jkcy5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKS5zbGljZSgwLCB0aGlzLnBsYXllclBhcmFtcy5tYXhXb3JkU2VhcmNoKS5qb2luKCcgJykgOiBcIlwiLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IHRoaXMucGxheWVyUGFyYW1zLmxhbmd1YWdlID8gdGhpcy5wbGF5ZXJQYXJhbXMubGFuZ3VhZ2UgOiAnJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGhpcy5wbGF5ZXJQYXJhbXMuc2VhcmNoSW5QbGF5bGlzdCkge1xuXG4gICAgICAgICAgICB0aGlzLnNlYXJjaFBhcmFtcy5wcml2YXRlID0gMDtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoUGFyYW1zLmZsYWdzID0gXCJub19saXZlLGV4cG9ydGFibGVcIiArICh0aGlzLnBsYXllclBhcmFtcy5vd25lcnMubGVuZ3RoID4gMCA/IFwiXCI6IFwiLHZlcmlmaWVkXCIpO1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hQYXJhbXMubG9uZ2VyX3RoYW4gPSAwLjM1OyAvLzIxc2VjXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllclBhcmFtcy5vd25lcnMpIHRoaXMuc2VhcmNoUGFyYW1zLm93bmVycyA9IHRoaXMucGxheWVyUGFyYW1zLm93bmVycztcblxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyUGFyYW1zLmNhdGVnb3J5KSB0aGlzLnNlYXJjaFBhcmFtcy5jaGFubmVsID0gdGhpcy5wbGF5ZXJQYXJhbXMuY2F0ZWdvcnk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllclBhcmFtcy5leGNsdWRlSWRzKSB0aGlzLnNlYXJjaFBhcmFtcy5leGNsdWRlX2lkcyA9IHRoaXMucGxheWVyUGFyYW1zLmV4Y2x1ZGVJZHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJQYXJhbXMubGFuZ3VhZ2UpIHRoaXMuc2VhcmNoUGFyYW1zLmxhbmd1YWdlID0gdGhpcy5wbGF5ZXJQYXJhbXMubGFuZ3VhZ2U7XG5cbiAgICAgICAgLy8gVGVsbCB0aGUgZXZlbnQgbGlzdGVuZXIgdGhhdCBzZWFyY2ggcGFyYW1zIGlzIHJlYWR5XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQodGhpcy5zZWFyY2hQYXJhbXNSZWFkeSk7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGh0bWxFbnRpdGllcyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoLyYvZywgJyUyNicpLnJlcGxhY2UoLz0vZywgJyUzZCcpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZERtUGxheWVyKCkge1xuICAgICAgICBjb25zdCByb290RWwgPSB0aGlzLnJvb3RFbHNbMF07XG4gICAgICAgIGxldCBjcGVFbWJlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgbGV0IHF1ZXJ5U3RyaW5nID0gXCJcIjtcblxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJQYXJhbXMuYWRzUGFyYW1zID09PSBcIlwiKSB7XG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcImFkc19wYXJhbXM9Y29udGV4dHVhbFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCJhZHNfcGFyYW1zPVwiICsgdGhpcy5odG1sRW50aXRpZXModGhpcy5wbGF5ZXJQYXJhbXMuYWRzUGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBsYXllclBhcmFtcy5zeW5kaWNhdGlvbiAhPT0gXCJcIikgcXVlcnlTdHJpbmcgKz0gXCImc3luZGljYXRpb249XCIgKyB0aGlzLnBsYXllclBhcmFtcy5zeW5kaWNhdGlvbjtcblxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJQYXJhbXMuY29udHJvbHMgIT09IHRydWUpIHF1ZXJ5U3RyaW5nICs9IFwiJmNvbnRyb2xzPVwiICsgdGhpcy5wbGF5ZXJQYXJhbXMuY29udHJvbHM7XG5cbiAgICAgICAgY3BlRW1iZWQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkYWlseW1vdGlvbi1jcGVcIik7XG4gICAgICAgIGNwZUVtYmVkLnNldEF0dHJpYnV0ZShcInZpZGVvLWlkXCIsIHRoaXMudmlkZW9QYXJhbXMuaWQpO1xuICAgICAgICBjcGVFbWJlZC5zZXRBdHRyaWJ1dGUoXCJxdWVyeS1zdHJpbmdcIiwgcXVlcnlTdHJpbmcpO1xuXG4gICAgICAgIGlmKHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSAhPT0gbnVsbCl7XG4gICAgICAgICAgICB0aGlzLnBsYXllclBhcmFtcy53aWR0aCA9IE51bWJlcihyb290RWwuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikpO1xuICAgICAgICAgICAgY3BlRW1iZWQuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgcm9vdEVsLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikgIT09IG51bGwpe1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJQYXJhbXMuaGVpZ2h0ID0gTnVtYmVyKHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikpO1xuICAgICAgICAgICAgY3BlRW1iZWQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIHJvb3RFbC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNwZUlkID0gdGhpcy5wbGF5ZXJQYXJhbXMuY3BlSWRbMF07XG5cbiAgICAgICAgaWYoL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKVxuICAgICAgICAgICAgY3BlSWQgPSB0aGlzLnBsYXllclBhcmFtcy5jcGVJZFsxXSA/IHRoaXMucGxheWVyUGFyYW1zLmNwZUlkWzFdIDogdGhpcy5wbGF5ZXJQYXJhbXMuY3BlSWRbMF07XG5cbiAgICAgICAgLy8gQXZvaWQgZXJyb3Igd2hpbGUgYnVpbGRpbmdcbiAgICAgICAgY29uc3QgZGF0ZTogYW55ID0gbmV3IERhdGUoKTtcblxuICAgICAgICAvLyBBcHBlbmQgdGhlIGVsZW1lbnQgdG8gdGhlIHJvb3QgcGxheWVyIGVsZW1lbnRcbiAgICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGNwZUVtYmVkKTtcblxuICAgICAgICAvLyBMb2FkIHRoZSBzY3JpcHRcbiAgICAgICAgKGZ1bmN0aW9uKHcsZCxzLHUsbixpLGYsZyxlLGMpe3cuV0RNT2JqZWN0PW47d1tuXT13W25dfHxmdW5jdGlvbigpeyh3W25dLnE9d1tuXS5xfHxbXSkucHVzaChhcmd1bWVudHMpO307d1tuXS5sPTEqZGF0ZTt3W25dLmk9aTt3W25dLmY9Zjt3W25dLmc9ZztlPWQuY3JlYXRlRWxlbWVudChzKTtlLmFzeW5jPTE7ZS5zcmM9dTtjPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07Yy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLGMpO30pKHdpbmRvdyxkb2N1bWVudCxcInNjcmlwdFwiLFwiLy9hcGkuZG1jZG4ubmV0L3B4bC9jcGUvY2xpZW50Lm1pbi5qc1wiLFwiY3BlXCIsIGNwZUlkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFZpZGVvKHZpZGVvOiBpbmZWaWRlbykge1xuICAgICAgICB0aGlzLnZpZGVvUGFyYW1zID0gdmlkZW87XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQodGhpcy5hcGlSZWFkeSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZWFyY2hWaWRlbygpIHtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIiVjIERNIHJlbGF0ZWQgXCIsIFwiYmFja2dyb3VuZDogIzU2QzdGRjsgY29sb3I6ICMyMzIzMjNcIiwgXCJTZWFyY2g6IFwiICsgdGhpcy5zZWFyY2hQYXJhbXMuc2VhcmNoKTtcblxuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmVudHJpZXMoIHRoaXMuc2VhcmNoUGFyYW1zICkubWFwKCAoWyBrZXksIHZhbHVlXSApID0+IHtcbiAgICAgICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWA7XG4gICAgICAgIH0pLmpvaW4oJyYnKTtcblxuICAgICAgICBjb25zdCBkbVNlYXJjaFVybCA9IFwiaHR0cHM6Ly9hcGkuZGFpbHltb3Rpb24uY29tL1wiICsgKHRoaXMucGxheWVyUGFyYW1zLnNlYXJjaEluUGxheWxpc3QgPyBcInBsYXlsaXN0L1wiICsgdGhpcy5wbGF5ZXJQYXJhbXMuc2VhcmNoSW5QbGF5bGlzdCArIFwiL3ZpZGVvc1wiIDogXCJ2aWRlb3NcIikgKyBcIj9cIiArIHByb3BlcnRpZXM7XG5cbiAgICAgICAgZmV0Y2goZG1TZWFyY2hVcmwpLnRoZW4oIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pLnRoZW4oIGRhdGEgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEudG90YWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWRlbyhkYXRhLmxpc3RbMF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNlYXJjaFBhcmFtcy5zZWFyY2ggPSB0aGlzLnNlYXJjaFBhcmFtcy5zZWFyY2guc3Vic3RyaW5nKDAsIHRoaXMuc2VhcmNoUGFyYW1zLnNlYXJjaC5sYXN0SW5kZXhPZignICcpKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmKHRoaXMuc2VhcmNoUGFyYW1zLnNlYXJjaC5zcGxpdCgnICcpLmxlbmd0aCA+PSB0aGlzLnBsYXllclBhcmFtcy5taW5Xb3JkU2VhcmNoICYmIHRoaXMuc2VhcmNoUGFyYW1zLnNlYXJjaC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnNlYXJjaFZpZGVvKCk7XG4gICAgICAgICAgICAgICAgLy8gZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIlYyBETSByZWxhdGVkIFwiLCBcImJhY2tncm91bmQ6ICM1NkM3RkY7IGNvbG9yOiAjMjMyMzIzXCIsIFwiQ2FuIG5vdCBmaW5kIHJlbGF0ZWQgdmlkZW8uIEZhbGxiYWNrIHZpZGVvIHVzZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZhbGxiYWNrVmlkZW8oKTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRGYWxsYmFja1ZpZGVvKCkge1xuXG4gICAgICAgIC8vIERlZmluZSBjdXJyZW50IHRpbWUgYW5kIDMwIGRheXNcbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkvMTAwMCk7XG4gICAgICAgIGNvbnN0IHRoaXJ0eURheXMgPSAyNTkyMDAwO1xuICAgICAgICBjb25zdCB1cmwgPSBcImh0dHBzOi8vYXBpLmRhaWx5bW90aW9uLmNvbS9cIiArICh0aGlzLnBsYXllclBhcmFtcy5zZWFyY2hJblBsYXlsaXN0ID8gXCJwbGF5bGlzdC9cIiArIHRoaXMucGxheWVyUGFyYW1zLnNlYXJjaEluUGxheWxpc3QgKyBcIi92aWRlb3M/XCIgOiBcInZpZGVvcz9vd25lcnM9XCIgKyB0aGlzLnBsYXllclBhcmFtcy5vd25lcnMpICArIFwiJmNyZWF0ZWRfYWZ0ZXI9XCIgKyAoY3VycmVudFRpbWUgLSB0aGlydHlEYXlzKSArIFwiJnNvcnQ9cmFuZG9tJmxpbWl0PTEmZmllbGRzPWlkLHRpdGxlXCI7XG5cbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgZmV0Y2godXJsKS50aGVuKCByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KS50aGVuKCBkYXRhID0+IHtcblxuICAgICAgICAgICAgaWYgKGRhdGEubGlzdC5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEYXRhIHJldHVybiBhcnJheSwgZ2V0IHRoZSBmaXJzdCBhcnJheSBhbmQgcGFzcyBpdCB0byBzZXRWaWRlbyBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0VmlkZW8oZGF0YS5saXN0WzBdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRE0gcmVsYXRlZCBVbmFibGUgdG8gZmluZCBhIGZhbGxiYWNrIHZpZGVvXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQga2V5d29yZHMgc3RyaW5ncyBvbiB3ZWJzaXRlXG4gICAgICpcbiAgICAgKiBTdGVwIGZpbmQga2V5d29yZHMgc3RyaW5nXG4gICAgICogMS4gRmluZCBtZXRhIGtleXdvcmRzXG4gICAgICogMi4gRmluZFxuICAgICAqL1xuICAgIHByaXZhdGUgZmluZEtleXdvcmRzKHNlbGVjdG9yPzogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgICBsZXQga2V5d29yZHMgPSBbJyddO1xuXG4gICAgICAgIGlmICggc2VsZWN0b3IgIT09IG51bGwgKSB7XG4gICAgICAgICAgICBjb25zdCBrZXl3b3JkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICBrZXl3b3JkcyA9IHRoaXMuc2FuaXRpemVLZXl3b3JkcyhrZXl3b3JkQ29udGFpbmVyLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIikpO1xuICAgICAgICB9IGVsc2UgaWYgKCAodHlwZW9mIHNlbGVjdG9yID09PSBcInVuZGVmaW5lZFwiKSAmJiB0eXBlb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoMVwiKVswXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAga2V5d29yZHMgPSB0aGlzLnNhbml0aXplS2V5d29yZHMoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoMVwiKVswXS50ZXh0Q29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5d29yZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FuaXRpemUga2V5d29yZHMgYmFzZWQgb24gbGFuZ3VhZ2VcbiAgICAgKlxuICAgICAqIEhhbmd1bCAoS29yZWEpOiBcXHUzMTMxLVxcdUQ3OURcbiAgICAgKiBBbHBoYWJldDogYS16QS1aMC05XG4gICAgICogTGF0aW4gQ2hhcmFjdGVyOiBcXHUwMEMwLVxcdTAwRkZcbiAgICAgKiBEZXZhbmFncmkgKEluZGlhKTogXFx1MDkwMC1cXHUwOTdGXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHNhbml0aXplS2V5d29yZHMoa2V5d29yZHM6IHN0cmluZyk6IHN0cmluZ1tdIHtcblxuICAgICAgICBjb25zdCBzcGxpdFdvcmRzID0ga2V5d29yZHMucmVwbGFjZSgvW14tIFxcdTMxMzEtXFx1RDc5RCBhLXpBLVowLTkgXFx1MDBDMC1cXHUwMEZGIFxcdTAxNTNdL2csICcgJylcbiAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAuZmlsdGVyKHdvcmQgPT4gd29yZC5sZW5ndGggPj0gdGhpcy5wbGF5ZXJQYXJhbXMubWluV29yZExlbmd0aCk7XG5cbiAgICAgICAgcmV0dXJuIHNwbGl0V29yZHM7XG4gICAgfVxuXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/dm-player/dm-player.ts\n");

/***/ }),

/***/ "./src/entries/dm-embed.ts":
/*!*********************************!*\
  !*** ./src/entries/dm-embed.ts ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dm_player_dm_player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dm-player/dm-player */ \"./src/dm-player/dm-player.ts\");\n\nvar el = document.querySelectorAll('.dm-player');\nvar dmEmbed = new _dm_player_dm_player__WEBPACK_IMPORTED_MODULE_0__[\"default\"](el);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZW50cmllcy9kbS1lbWJlZC50cz85ZTI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBOEM7QUFFOUMsSUFBTSxFQUFFLEdBQStCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUUvRSxJQUFNLE9BQU8sR0FBRyxJQUFJLDREQUFRLENBQUMsRUFBRSxDQUFDLENBQUMiLCJmaWxlIjoiLi9zcmMvZW50cmllcy9kbS1lbWJlZC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEbVBsYXllciBmcm9tICcuLi9kbS1wbGF5ZXIvZG0tcGxheWVyJztcblxuY29uc3QgZWw6IE5vZGVMaXN0T2Y8SFRNTERpdkVsZW1lbnQ+ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRtLXBsYXllcicpO1xuXG5jb25zdCBkbUVtYmVkID0gbmV3IERtUGxheWVyKGVsKTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/entries/dm-embed.ts\n");

/***/ })

/******/ });