!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))},r=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function a(e,t,n,a){return void 0===t&&(t=50),void 0===n&&(n=1/0),void 0===a&&(a=""),i(this,void 0,void 0,(function(){return r(this,(function(i){return[2,new Promise((function(i,r){var o=0,s=setInterval((function(){var l=e(),d=o>n||l;o+=t,l?(i(),clearInterval(s)):d&&(r(new Error("waitFor(): "+a)),clearInterval(s))}),t)}))]}))}))}function o(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t){setTimeout((function(){t()}),e)}))]}))}))}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n(2),r=null!=Object(i.a)("dmdebug")&&"false"!=Object(i.a)("dmdebug"),a=e.env.API_URL?e.env.API_URL:"https://api.dailymotion.com/"}).call(this,n(8))},function(e,t,n){"use strict";function i(e){return new URLSearchParams(window.location.search).get(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(1);var r=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))},a=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function o(e){var t=this;return new Promise((function(n,i){return r(t,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,fetch(e)];case 1:return 200===(t=r.sent()).status?n(t.json()):i(),[2]}}))}))})).catch((function(e){!0===i.b&&console.log("API calling error")}))}var s=n(0);var l=function(){function e(){this.titleEl=null}return e.prototype.setVideoTitle=function(e){return this.titleEl=document.createElement("p"),this.titleEl.innerHTML=e,this.titleEl.className="dm__video-title",this.titleEl},e.prototype.cleanup=function(){delete this.titleEl,this.titleEl.remove()},e}(),d=function(){function e(){this.infoCardEl=null}return e.prototype.setInfoCard=function(e){this.infoCardEl=document.createElement("div"),this.infoCardEl.className="dm__info-card";var t=document.createElement("div");t.className="dm__text-wrapper";var n=document.createElement("p");n.innerHTML=e.title,n.className="dm__video-title";var i=document.createElement("p");i.innerHTML=e.description,i.className="dm__video-desc",t.append(n),t.append(i);var r=document.createElement("picture");r.className="dm__ava-wrapper";var a=document.createElement("img");return a.src=e["owner.avatar_190_url"],a.className="dm__owner-ava",r.append(a),this.infoCardEl.append(t),this.infoCardEl.append(r),this.infoCardEl},e.prototype.cleanup=function(){this.infoCardEl&&(this.infoCardEl.remove(),delete this.infoCardEl)},e}(),u=n(6),c=(n(9),function(){function e(e,t,n){this.dmPlaylist=null,this.rootEl=null,this.videos=null,this.slides=[],this.slideActive="",this.nowPlayingTitle=null,this.rootEl=e,this.videos=t,this.addEventListeners(),this.generateCarouselTag(),n&&this.generateNowPlaying()}return e.prototype.addEventListeners=function(){var e=this;document.addEventListener("dm-video-end",(function(t){e.playNext(t.detail)}))},e.prototype.generateNowPlaying=function(){var e=document.createElement("div");e.className="dm__now-playing-status";var t=document.createElement("div");t.className="dm__now-playing-text",t.innerText="Now playing:    ",e.appendChild(t),this.nowPlayingTitle=document.createElement("div"),this.nowPlayingTitle.className="dm__now-playing-title",this.nowPlayingTitle.innerText=this.videos.list[0].title,e.appendChild(this.nowPlayingTitle),this.dmPlaylist.insertAdjacentElement("afterbegin",e)},e.prototype.generateCarouselTag=function(){var e=this;this.dmPlaylist=document.createElement("div"),this.dmPlaylist.className="dm-playlist";var t=document.createElement("div");t.className="slider js_slider";var n=document.createElement("div");n.className="frame js_frame";var i=document.createElement("ul");i.className="slides js_slides",this.slideActive=this.videos.list[0].id;for(var r=0;r<this.videos.list.length;r++){this.slides[r]=document.createElement("li"),this.slides[r].className=0===r?"js_slide dm__playlist-slide dm__playlist-active":"js_slide dm__playlist-slide",this.slides[r].setAttribute("data-id",this.videos.list[r].id);var a=document.createElement("div");a.className="dm__slide-wrapper";var o=document.createElement("figure");o.className="dm__playlist-cont-thumbnail";var s=new Image;s.className="dm__playlist-thumbnail",s.src=this.videos.list[r].thumbnail_240_url,o.appendChild(s);var l=document.createElement("span");l.className="dm__playlist-duration",l.innerText=this.durationFormat(this.videos.list[r].duration),o.appendChild(l),a.appendChild(o);var d=document.createElement("h5");d.className="dm__playlist-title";var c=document.createTextNode(this.videos.list[r].title);d.appendChild(c),a.appendChild(d),this.slides[r].appendChild(a),this.slides[r].addEventListener("click",(function(t){e.toggleActive(t.target.dataset.id)})),i.appendChild(this.slides[r])}var p=document.createElement("button");p.className="js_prev prev",p.setAttribute("aria-label","Previous"),p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 501.5 501.5"><g><path class="arrow" d="M302.67 90.877l55.77 55.508L254.575 250.75 358.44 355.116l-55.77 55.506L143.56 250.75z"/></g></svg>';var h=document.createElement("button");h.className="js_next next",h.setAttribute("aria-label","Next"),h.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 501.5 501.5"><g><path class="arrow" d="M199.33 410.622l-55.77-55.508L247.425 250.75 143.56 146.384l55.77-55.507L358.44 250.75z"/></g></svg>',n.appendChild(i),t.appendChild(n),t.appendChild(p),t.appendChild(h),this.dmPlaylist.appendChild(t),this.rootEl.appendChild(this.dmPlaylist);Object(u.lory)(this.dmPlaylist,{slidesToScroll:2})},e.prototype.toggleActive=function(e){this.slideActive=e;for(var t=0;t<this.slides.length;t++)this.slides[t].className=this.slides[t].dataset.id===this.slideActive?"glide__slide dm__playlist-slide dm__playlist-active":"glide__slide dm__playlist-slide";if(this.nowPlayingTitle)for(t=0;t<this.videos.list.length;t++)if(e===this.videos.list[t].id){this.nowPlayingTitle.innerText=this.videos.list[t].title;break}this.slideChanges(e)},e.prototype.playNext=function(e){for(var t=e,n=0;n<this.slides.length;n++){if(this.slides[n].dataset.id===e&&n!==this.slides.length-1){t=this.slides[n+1].dataset.id;break}if(n===this.slides.length-1){t=this.slides[0].dataset.id;break}}this.toggleActive(t)},e.prototype.slideChanges=function(e){var t=new CustomEvent("dm-slide-changes",{detail:e});document.dispatchEvent(t)},e.prototype.durationFormat=function(e){return new Date(1e3*e).toISOString().substr(14,5)},e}()),p=(n(11),function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}),h=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},m=function(){function e(e,t,n){this.id="",this.searchParams=null,this.videoParams=null,this.keywords=null,this.videoTitle=null,this.infoCard=null,this.cpeId=[],this.cpeParams={},this.multiplayerParams=null,this.playerParams=null,this.rootEl=null,this.rootEl=t,this.id=e,this.keywords=n,this.addEventListeners(),this.extractAttrs()}return e.prototype.addEventListeners=function(){var e=this;document.addEventListener("dm-api-ready",(function(t){t.detail===e.id&&e.loadDmPlayer(e.rootEl)})),document.addEventListener("dm-player-extracted",(function(t){t.detail===e.id&&e.prepareSearchParams()})),document.addEventListener("dm-search-params-ready",(function(t){t.detail===e.id&&(null===e.playerParams.videoId?e.searchVideo():e.getVideoInfo(e.playerParams.videoId,!0))})),document.addEventListener("dm-video-updated",(function(t){e.getVideoInfo(t.detail.videoId,!1)}))},e.prototype.extractAttrs=function(){var e=this.rootEl;this.playerParams={maxWordSearch:e.getAttribute("maxWordSearch")?Number(e.getAttribute("maxWordSearch")):15,minWordLength:e.getAttribute("minWordLength")?Number(e.getAttribute("minWordLength")):4,minWordSearch:e.getAttribute("minWordSearch")?Number(e.getAttribute("minWordSearch")):2,videoId:e.getAttribute("videoId")?e.getAttribute("videoId"):null,language:e.getAttribute("language")?e.getAttribute("language"):"",sort:e.getAttribute("sort")?e.getAttribute("sort").split(","):["recent"],owners:e.getAttribute("owners")?e.getAttribute("owners"):"",category:e.getAttribute("category")?e.getAttribute("category"):"",excludeIds:e.getAttribute("excludeIds")?e.getAttribute("excludeIds"):"",searchInPlaylist:!!e.getAttribute("searchInPlaylist")&&e.getAttribute("searchInPlaylist"),syndication:e.getAttribute("syndication")?e.getAttribute("syndication"):"",controls:"false"!=e.getAttribute("controls"),adsParams:e.getAttribute("adsParams")?e.getAttribute("adsParams"):"contextual",cpeId:e.getAttribute("cpeId")?e.getAttribute("cpeId").split(","):[""],keywordsSelector:e.getAttribute("keywordsSelector")?e.getAttribute("keywordsSelector"):null,rangeDay:e.getAttribute("rangeDay")?e.getAttribute("rangeDay").split(","):[0],startDate:e.getAttribute("startDate")?e.getAttribute("startDate"):null,getUpdatedVideo:"false"!=e.getAttribute("getUpdatedVideo"),preVideoTitle:e.getAttribute("preVideoTitle")?e.getAttribute("preVideoTitle"):null,showVideoTitle:"false"!=e.getAttribute("showVideoTitle")&&null!=e.getAttribute("showVideoTitle"),showInfoCard:"false"!=e.getAttribute("showInfoCard")&&null!=e.getAttribute("showInfoCard"),showOutsidePlaylist:"true"===e.getAttribute("showOutsidePlaylist"),showPlaynow:"true"===e.getAttribute("showPlaynow"),showAdOnly:"true"===e.getAttribute("showAdOnly"),adHideControls:"true"===e.getAttribute("adHideControls"),autoPlayMute:"false"!=e.getAttribute("autoPlayMute"),queueEnable:"false"!=e.getAttribute("queueEnable"),queueEnableNext:"false"!=e.getAttribute("queueEnableNext"),pipAtStart:"false"!=e.getAttribute("pipAtStart")&&null!=e.getAttribute("pipAtStart"),noStp:"false"!=e.getAttribute("noStp")&&null!=e.getAttribute("noStp"),noPip:"false"!=e.getAttribute("noPip")&&null!=e.getAttribute("noPip"),scrollToPause:"false"!=e.getAttribute("scrollToPause")&&null!=e.getAttribute("scrollToPause"),stpSound:"false"!=e.getAttribute("stpSound")&&null!=e.getAttribute("stpSound"),playerStyleEnable:"false"!=e.getAttribute("playerStyleEnable")&&null!=e.getAttribute("playerStyleEnable"),playerStyleColor:e.getAttribute("playerStyleColor")?e.getAttribute("playerStyleColor"):null},this.multiplayerParams={adCoverPlay:"true"==e.getAttribute("adCoverPlay"),closePip:"true"==e.getAttribute("closePip")},!0===i.b&&console.log("%c DM Player Params: ","background: #56C7FF; color: #232323",this.playerParams);var t=new CustomEvent("dm-player-extracted",{detail:this.id});document.dispatchEvent(t)},e.prototype.prepareSearchParams=function(){this.cpeId=this.playerParams.cpeId;var e=this.playerParams.showOutsidePlaylist?"id,title,thumbnail_240_url,duration":this.playerParams.showInfoCard?"id,title,description,owner.avatar_190_url":"id,title";this.searchParams={fields:e,limit:this.playerParams.showOutsidePlaylist?7:1};var t=this.findKeywords(this.playerParams.keywordsSelector);this.keywords=this.keywords?this.keywords:t.sort((function(e,t){return t.length-e.length})).slice(0,this.playerParams.maxWordSearch).join(" "),this.playerParams.searchInPlaylist||(this.searchParams.private=0,this.searchParams.flags="no_live,exportable"+(this.playerParams.owners.length>0?"":",verified"),this.searchParams.longer_than=.35,this.playerParams.owners&&(this.searchParams.owners=this.playerParams.owners),this.playerParams.category&&(this.searchParams.channel=this.playerParams.category),this.playerParams.excludeIds&&(this.searchParams.exclude_ids=this.playerParams.excludeIds)),this.playerParams.language&&(this.searchParams.language=this.playerParams.language);var n=new CustomEvent("dm-search-params-ready",{detail:this.id});document.dispatchEvent(n)},e.prototype.loadDmPlayer=function(e){var t,n=document.createElement("div"),i="";""===this.playerParams.adsParams?i+="ads_params=contextual":i+="ads_params="+(t=this.playerParams.adsParams,String(t).replace(/&/g,"%26").replace(/=/g,"%3d")),""!==this.playerParams.syndication&&(i+="&syndication="+this.playerParams.syndication),!0!==this.playerParams.controls&&(i+="&controls="+this.playerParams.controls),n.setAttribute("class","dailymotion-cpe"),n.setAttribute("video-id",this.videoParams.private_id?this.videoParams.private_id:this.videoParams.id),n.setAttribute("query-string",i),!0===this.playerParams.pipAtStart&&n.setAttribute("pip-at-start",""),!0===this.playerParams.noStp&&n.setAttribute("no-stp",""),!0===this.playerParams.noPip&&n.setAttribute("no-pip",""),!1!==this.playerParams.queueEnable&&!0!==this.playerParams.showOutsidePlaylist||n.setAttribute("no-queue",""),!1===this.playerParams.queueEnableNext&&n.setAttribute("no-autonext",""),!1!==this.playerParams.searchInPlaylist&&n.setAttribute("Playlist-id",this.playerParams.searchInPlaylist),null!==e.getAttribute("width")&&(this.playerParams.width=Number(e.getAttribute("width")),n.setAttribute("width",e.getAttribute("width"))),null!==e.getAttribute("height")&&(this.playerParams.height=Number(e.getAttribute("height")),n.setAttribute("height",e.getAttribute("height")));var r={};if(!0===this.playerParams.scrollToPause&&(r.scroll_to_pause=!0),!0===this.playerParams.stpSound&&(r.stp_sound=!0),!0===this.playerParams.playerStyleEnable&&(r.player_style_enable=!0),null!==this.playerParams.playerStyleColor&&(r.player_style_color=this.playerParams.playerStyleColor),this.cpeParams=r,e.appendChild(n),null!==this.playerParams.preVideoTitle){var a=function(e){var t=document.createElement("p");return t.innerHTML=e,t.className="dm__pre-video-title",t}(this.playerParams.preVideoTitle);e.insertAdjacentElement("afterbegin",a)}var o=new CustomEvent("dm-video-holder-ready");document.dispatchEvent(o)},e.prototype.setVideo=function(e,t){if(this.videoParams=e,t){var n=new CustomEvent("dm-api-ready",{detail:this.id});document.dispatchEvent(n)}this.updateVideoInfo()},e.prototype.updateVideoInfo=function(){if(!0===this.playerParams.showVideoTitle){var e=new l;null!==this.videoTitle&&this.videoTitle.remove(),this.videoTitle=e.setVideoTitle(this.videoParams.title),this.rootEl.insertAdjacentElement("afterend",this.videoTitle)}if(!0===this.playerParams.showInfoCard){var t=new d;null!==this.infoCard&&this.infoCard.remove(),this.infoCard=t.setInfoCard(this.videoParams),this.rootEl.insertAdjacentElement("beforeend",this.infoCard)}},e.prototype.getVideoInfo=function(e,t){return p(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return[4,o(i.a+"/video/"+e+"?fields="+this.searchParams.fields)];case 1:return n=r.sent(),this.setVideo(n,t),[2]}}))}))},e.prototype.generateQuery=function(e,t){return p(this,void 0,void 0,(function(){var n,r,a=this;return h(this,(function(o){switch(o.label){case 0:return[4,Object(s.b)((function(){return null!==a.searchParams}),100,5e3,"Timeout waiting for searchParams not null")];case 1:return o.sent(),Math.floor(Date.now()/1e3),86400,null===this.playerParams.startDate||null!==t&&0!==t||(this.searchParams.created_after=new Date(this.playerParams.startDate).getTime()/1e3),"relevance"===e||"recent"===e?this.searchParams.search=this.keywords:delete this.searchParams.search,n=Object.entries(this.searchParams).map((function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&"),r="&sort="+e+(void 0!==t&&0!==t?"&created_after="+86400*t:""),[2,new Promise((function(e,t){e(i.a+(a.playerParams.searchInPlaylist?"playlist/"+a.playerParams.searchInPlaylist+"/videos":"videos")+"?"+n+r)}))]}}))}))},e.prototype.searchVideo=function(){return p(this,void 0,void 0,(function(){var e,t,n,i;return h(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<this.playerParams.sort.length?(n=o,[4,this.generateQuery(this.playerParams.sort[e],Number(this.playerParams.rangeDay[e]))]):[3,10];case 2:return[4,n.apply(void 0,[r.sent()])];case 3:return(t=r.sent())?t.total>0?(this.setVideo(t.list[0],!0),!0===this.playerParams.showOutsidePlaylist&&new c(this.rootEl,t,this.playerParams.showPlaynow),[3,10]):[3,4]:[3,9];case 4:if("relevance"!==this.playerParams.sort[e]&&"recent"!==this.playerParams.sort[e])return[3,8];r.label=5;case 5:return this.keywords.split(" ").length>=this.playerParams.minWordSearch&&this.keywords.length>0?(this.keywords=this.keywords.substring(0,this.searchParams.search.lastIndexOf(" ")),i=o,[4,this.generateQuery(this.playerParams.sort[e],Number(this.playerParams.rangeDay[e]))]):[3,8];case 6:return[4,i.apply(void 0,[r.sent()])];case 7:return(t=r.sent()).total>0?(this.setVideo(t.list[0],!0),!0===this.playerParams.showOutsidePlaylist&&new c(this.rootEl,t,this.playerParams.showPlaynow),[3,8]):[3,5];case 8:if(0===t.total&&e===this.playerParams.sort.length-1)return this.getFallbackVideo(),[3,10];r.label=9;case 9:return e++,[3,1];case 10:return[2]}}))}))},e.prototype.getFallbackVideo=function(){return p(this,void 0,void 0,(function(){var e,t;return h(this,(function(n){switch(n.label){case 0:return e=Math.floor(Date.now()/1e3),2592e3,[4,o(i.a+(this.playerParams.searchInPlaylist?"playlist/"+this.playerParams.searchInPlaylist+"/videos?":"videos?owners="+this.playerParams.owners)+(this.playerParams.getUpdatedVideo?"&created_after="+(e-2592e3):"")+"&sort=random&limit=1&fields="+this.searchParams.fields)];case 1:return(t=n.sent())&&(t.list.length>0?this.setVideo(t.list[0],!0):!0===i.b&&console.warn("DM related Unable to find a fallback video")),[2]}}))}))},e.prototype.findKeywords=function(e){var t=[""];if(null!==e)try{var n=document.querySelector(e);t=this.sanitizeKeywords(n.textContent?n.textContent:n.getAttribute("content"))}catch(t){!0===i.b&&console.error("Can't find selector: ",e)}else null===e&&void 0!==document.getElementsByTagName("h1")[0]&&(t=this.sanitizeKeywords(document.getElementsByTagName("h1")[0].textContent));return t},e.prototype.sanitizeKeywords=function(e){var t=this;return e.replace(/[^- \u3131-\uD79D a-zA-Z0-9 \u00C0-\u00FF \u0900-\u097F \u0621-\u064A \u0660-\u0669 \u0E00-\u0E7F \u0153]/g," ").split(" ").filter((function(e){return e.length>=t.playerParams.minWordLength}))},e}();t.a=m},function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},i=[],r=0;r<e.length;r++){var a=e[r],l=t.base?a[0]+t.base:a[0],d=n[l]||0,u="".concat(l," ").concat(d);n[l]=d+1;var c=s(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==c?(o[c].references++,o[c].updater(p)):o.push({identifier:u,updater:v(p,t),references:1}),i.push(u)}return i}function d(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function h(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,f=0;function v(e,t){var n,i,r;if(t.singleton){var a=f++;n=m||(m=d(t)),i=p.bind(null,n,a,!1),r=p.bind(null,n,a,!0)}else n=d(t),i=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);o[r].references--}for(var a=l(e,t),d=0;d<n.length;d++){var u=s(n[d]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=a}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([r]).join("\n")}var o,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.lory=function(e,t){var n=void 0,l=void 0,u=void 0,c=void 0,p=void 0,h=void 0,m=void 0,f=void 0,v=void 0,y=void 0,b=0,g={},w=!!(0,a.default)()&&{passive:!0};function P(e,t){var n=g.classNameActiveSlide;e.forEach((function(e,t){e.classList.contains(n)&&e.classList.remove(n)})),e[t].classList.add(n)}function E(t,n,i){(0,o.default)(e,t+".lory."+n,i)}function x(e,t,n){var i=h&&h.style;i&&(i[v.transition+"TimingFunction"]=n,i[v.transition+"Duration"]=t+"ms",i[v.transform]="translateX("+e+"px)")}function _(e){return e.getBoundingClientRect().width||e.offsetWidth}function A(e,t){var i=g,r=i.slideSpeed,a=i.slidesToScroll,o=i.infinite,s=i.rewind,p=i.rewindPrev,h=i.rewindSpeed,v=i.ease,w=i.classNameActiveSlide,_=i.classNameDisabledNextCtrl,A=void 0===_?"disabled":_,C=i.classNameDisabledPrevCtrl,k=void 0===C?"disabled":C,L=r,S=t?b+1:b-1,N=Math.round(l-u);E("before","slide",{index:b,nextSlide:S}),m&&m.classList.remove(k),f&&f.classList.remove(A),"number"!=typeof e&&(e=t?o&&b+2*o!==c.length?b+(o-b%o):b+a:o&&b%o!=0?b-b%o:b-a),e=Math.min(Math.max(e,0),c.length-1),o&&void 0===t&&(e+=o),p&&0===Math.abs(n.x)&&!1===t&&(e=c.length-1,L=h);var T=Math.min(Math.max(-1*c[e].offsetLeft,-1*N),0);s&&Math.abs(n.x)===N&&t&&(T=0,e=0,L=h),x(T,L,v),n.x=T,c[e].offsetLeft<=N&&(b=e),!o||e!==c.length-o&&e!==c.length-c.length%o&&0!==e||(t&&(b=o),t||(b=c.length-2*o),n.x=-1*c[b].offsetLeft,y=function(){x(-1*c[b].offsetLeft,0,void 0)}),w&&P(d.call(c),b),!m||o||p||0!==e||m.classList.add(k),!f||o||s||e+1!==c.length||f.classList.add(A),E("after","slide",{currentSlide:b})}function C(){E("before","init"),v=(0,r.default)();var a,o,l,u,y=g=i({},s.default,t),x=y.classNameFrame,_=y.classNameSlideContainer,A=y.classNamePrevCtrl,C=y.classNameNextCtrl,N=y.classNameDisabledNextCtrl,T=void 0===N?"disabled":N,I=y.classNameDisabledPrevCtrl,O=void 0===I?"disabled":I,D=y.enableMouseEvents,F=y.classNameActiveSlide,B=y.initialIndex;b=B,p=e.getElementsByClassName(x)[0],h=p.getElementsByClassName(_)[0],m=e.getElementsByClassName(A)[0],f=e.getElementsByClassName(C)[0],n={x:h.offsetLeft,y:h.offsetTop},g.infinite?(a=d.call(h.children),o=g.infinite,l=a.slice(0,o),u=a.slice(a.length-o,a.length),l.forEach((function(e){var t=e.cloneNode(!0);h.appendChild(t)})),u.reverse().forEach((function(e){var t=e.cloneNode(!0);h.insertBefore(t,h.firstChild)})),h.addEventListener(v.transitionEnd,j),c=d.call(h.children)):(c=d.call(h.children),m&&!g.rewindPrev&&m.classList.add(O),f&&1===c.length&&!g.rewind&&f.classList.add(T)),k(),F&&P(c,b),m&&f&&(m.addEventListener("click",L),f.addEventListener("click",S)),p.addEventListener("touchstart",M,w),D&&(p.addEventListener("mousedown",M),p.addEventListener("click",z)),g.window.addEventListener("resize",V),E("after","init")}function k(){var e=g,t=e.infinite,i=e.ease,r=e.rewindSpeed,a=e.rewindOnResize,o=e.classNameActiveSlide,s=e.initialIndex;l=_(h),(u=_(p))===l&&(l=c.reduce((function(e,t){return e+_(t)}),0)),a?b=s:(i=null,r=0),t?(x(-1*c[b+t].offsetLeft,0,null),b+=t,n.x=-1*c[b].offsetLeft):(x(-1*c[b].offsetLeft,r,i),n.x=-1*c[b].offsetLeft),o&&P(d.call(c),b)}function L(){A(!1,!1)}function S(){A(!1,!0)}"undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e[0]);var N=void 0,T=void 0,I=void 0;function j(){y&&(y(),y=void 0)}function M(e){var t=g.enableMouseEvents,n=e.touches?e.touches[0]:e;t&&(p.addEventListener("mousemove",O),p.addEventListener("mouseup",D),p.addEventListener("mouseleave",D)),p.addEventListener("touchmove",O,w),p.addEventListener("touchend",D);var i=n.pageX,r=n.pageY;N={x:i,y:r,time:Date.now()},I=void 0,T={},E("on","touchstart",{event:e})}function O(e){var t=e.touches?e.touches[0]:e,i=t.pageX,r=t.pageY;T={x:i-N.x,y:r-N.y},void 0===I&&(I=!!(I||Math.abs(T.x)<Math.abs(T.y))),!I&&N&&x(n.x+T.x,0,null),E("on","touchmove",{event:e})}function D(e){var t=N?Date.now()-N.time:void 0,i=Number(t)<300&&Math.abs(T.x)>25||Math.abs(T.x)>u/3,r=!b&&T.x>0||b===c.length-1&&T.x<0,a=T.x<0;I||(i&&!r?A(!1,a):x(n.x,g.snapBackSpeed)),N=void 0,p.removeEventListener("touchmove",O),p.removeEventListener("touchend",D),p.removeEventListener("mousemove",O),p.removeEventListener("mouseup",D),p.removeEventListener("mouseleave",D),E("on","touchend",{event:e})}function z(e){T.x&&e.preventDefault()}function V(e){u!==_(p)&&(k(),E("on","resize",{event:e}))}return C(),{setup:C,reset:k,slideTo:function(e){A(e)},returnIndex:function(){return b-g.infinite||0},prev:L,next:S,destroy:function(){E("before","destroy"),p.removeEventListener(v.transitionEnd,j),p.removeEventListener("touchstart",M,w),p.removeEventListener("touchmove",O,w),p.removeEventListener("touchend",D),p.removeEventListener("mousemove",O),p.removeEventListener("mousedown",M),p.removeEventListener("mouseup",D),p.removeEventListener("mouseleave",D),p.removeEventListener("click",z),g.window.removeEventListener("resize",V),m&&m.removeEventListener("click",L),f&&f.removeEventListener("click",S),g.infinite&&Array.apply(null,Array(g.infinite)).forEach((function(){h.removeChild(h.firstChild),h.removeChild(h.lastChild)})),E("after","destroy")}}};var r=l(n(1)),a=l(n(2)),o=l(n(3)),s=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var d=Array.prototype.slice},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t,n,i=void 0,r=void 0,a=void 0;return e=document.createElement("_"),t=e.style,n=void 0,""===t[n="webkitTransition"]&&(a="webkitTransitionEnd",r=n),""===t[n="transition"]&&(a="transitionend",r=n),""===t[n="webkitTransform"]&&(i=n),""===t[n="msTransform"]&&(i=n),""===t[n="transform"]&&(i=n),document.body.insertBefore(e,null),t[i]="translateX(0)",document.body.removeChild(e),{transform:i,transition:r,transitionEnd:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=new a.default(t,{bubbles:!0,cancelable:!0,detail:n});e.dispatchEvent(i)};var i,r=n(4),a=(i=r)&&i.__esModule?i:{default:i}},function(e,t,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,n(5))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={slidesToScroll:1,slideSpeed:300,rewindSpeed:600,snapBackSpeed:200,ease:"ease",rewind:!1,infinite:!1,initialIndex:0,classNameFrame:"js_frame",classNameSlideContainer:"js_slides",classNamePrevCtrl:"js_prev",classNameNextCtrl:"js_next",classNameActiveSlide:"active",enableMouseEvents:!1,window:"undefined"!=typeof window?window:null,rewindOnResize:!0}},function(e,t,n){e.exports=n(0)}])},e.exports=i()},function(e,t,n){"use strict";var i=n(0),r=n(3),a=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))},o=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=function(){function e(e,t){this.players=[],this.noFill=!0,this.adPlaying="",this.multiplayerParams=null,this.playerParams=null,this.videoEvents(),this.playerParams=e,this.multiplayerParams=t}return e.prototype.videoEvents=function(){return a(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return window.addEventListener("cpeready",(function(t){var n=t.detail.players;e.players=n;for(var i=function(t){var i=n[t];i.addEventListener("videochange",(function(t){return a(e,void 0,void 0,(function(){var e,t;return o(this,(function(n){return e=i.video,t=new CustomEvent("dm-video-updated",{detail:{videoId:e.videoId}}),document.dispatchEvent(t),[2]}))}))})),i.addEventListener("ad_start",(function(t){e.noFill=!1})),i.addEventListener("ad_play",(function(t){""===e.adPlaying&&(e.adPlaying=i.id,!0===e.multiplayerParams.adCoverPlay&&e.toggleDisable(),!0===e.multiplayerParams.closePip&&e.togglePlay(i.id),!0===e.playerParams.adHideControls&&i.setControls(!1))})),i.addEventListener("ad_end",(function(t){""!==e.adPlaying&&(e.adPlaying="",e.multiplayerParams.adCoverPlay&&e.toggleDisable(),!0===e.playerParams.adHideControls&&i.setControls(!0))})),i.addEventListener("playing",(function(t){!0===e.multiplayerParams.closePip&&e.togglePlay(i.id)})),i.addEventListener("end",(function(e){var t=new CustomEvent("dm-video-end",{detail:i.video.videoId});document.dispatchEvent(t)})),i.addEventListener("playback_ready",(function(t){return a(e,void 0,void 0,(function(){var e,t;return o(this,(function(n){return e=i.parentNode.parentNode.parentNode,!0===this.playerParams.showAdOnly?(e.classList.add("dm-wait-for-ad"),i.play(),this.waitForAdStart()):(t=new CustomEvent("dm-show-player"),document.dispatchEvent(t)),[2]}))}))})),i.addEventListener("error",(function(e){console.log(e)}))},r=0;r<n.length;r++)i(r)})),window.addEventListener("cpepipclose",(function(e){e.detail.player.pause()})),document.addEventListener("dm-slide-changes",(function(t){e.players[0].load({video:t.detail})})),document.addEventListener("dm-destroy-player",(function(t){e.players[0].parentNode.parentNode.parentNode.remove()})),document.addEventListener("dm-show-player",(function(t){e.players[0].parentNode.parentNode.parentNode.classList.add("dm-playback-ready")})),[2]}))}))},e.prototype.waitForAdStart=function(){return a(this,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,Object(i.a)(2e3)];case 1:return n.sent(),!0===this.noFill?(e=new CustomEvent("dm-destroy-player"),document.dispatchEvent(e)):(t=new CustomEvent("dm-show-player"),document.dispatchEvent(t)),[2]}}))}))},e.prototype.togglePlay=function(e){for(var t=0;t<this.players.length;t++)if(this.players[t].id!==e){var n=this.players[t].parentNode;this.players[t].pause(),n.classList.remove("pip")}},e.prototype.toggleDisable=function(){for(var e=0;e<this.players.length;e++){var t=this.players[e].parentNode;""!==this.adPlaying&&this.adPlaying!==this.players[e].id?t.classList.add("dm-disabled"):t.classList.remove("dm-disabled")}},e}(),l=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))},d=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=function(){function e(e,t){this.rootEls=null,this.scriptLoaded=!1,this.keywords=null,this.rootEls=e,this.keywords=t,this.eventListeners(),this.renderElement()}return e.prototype.eventListeners=function(){var t=this;document.addEventListener("dm-video-holder-ready",(function(){return l(t,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,Object(i.b)((function(){return null!==e.player[0]}),500,2e3,"Timeout waiting player ready")];case 1:return t.sent(),!0!==this.scriptLoaded&&(this.loadScript(e.player[0].cpeId,e.player[0].cpeParams),this.scriptLoaded=!0),[2]}}))}))}))},e.prototype.listenVideoEvents=function(){new s(e.player[0].playerParams,e.player[0].multiplayerParams)},e.prototype.renderElement=function(){return l(this,void 0,void 0,(function(){var t;return d(this,(function(n){for(t=0;t<this.rootEls.length;t++)e.player[t]=new r.a("dm_"+t,this.rootEls[t],0===t&&null!==this.keywords?this.keywords:null);return this.listenVideoEvents(),[2]}))}))},e.renderOnDemand=function(e,t){return l(this,void 0,void 0,(function(){return d(this,(function(n){switch(n.label){case 0:return this.player.push(new r.a("dm_"+this.player.length+1,e,t)),[4,Object(i.a)(1e3)];case 1:return n.sent(),window.cpe.parse(),[2]}}))}))},e.prototype.loadScript=function(e,t){var n=e[0];/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n=e[1]?e[1]:e[0]);var i,r,a,o,s,l,d,u,c=new Date;i=window,r=document,a="script",o="cpe",s=n,l=t,i.WDMObject=o,i[o]=i[o]||function(){(i[o].q=i[o].q||[]).push(arguments)},i[o].l=1*c,i[o].i=s,i[o].f=l,i[o].g=void 0,(d=r.createElement(a)).async=1,d.src="//api.dmcdn.net/pxl/cpe/client.min.js",(u=r.getElementsByTagName(a)[0]).parentNode.insertBefore(d,u)},e.prototype.loadCpeScript=function(){},e.player=[],e}();t.a=u},function(e,t){var n,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,d=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?d=l.concat(d):c=-1,d.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=d.length;t;){for(l=d,d=[];++c<t;)l&&l[c].run();c=-1,t=d.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new m(e,t)),1!==d.length||u||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){var i=n(4),r=n(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},o=(i(r,a),r.locals?r.locals:{});e.exports=o},function(e,t,n){(t=n(5)(!1)).push([e.i,".dm-playlist{background:var(--dm-playlist-bg, #000) !important;padding:0 40px !important}.dm-playlist .slider{position:relative !important}.dm-playlist .frame{width:100% !important;position:relative !important;overflow:hidden !important;white-space:nowrap !important}.dm-playlist .slides{display:inline-block !important;width:100% !important;padding:0 !important}.dm-playlist .prev,.dm-playlist .next{position:absolute;top:50%;margin-top:-25px;display:block;cursor:pointer;background:none;padding:0;border:0}.dm__now-playing-status{--dm-now-playing-text-color: #fff;--dm-now-playing-text-size: .8em;--dm-now-playing-title-color: #fff;--dm-now-playing-title-size: 1em;--dm-now-playing-bg: transparent;background:var(--dm-now-playing-bg);padding:10px 0}.dm__now-playing-text{color:var(--dm-now-playing-text-color);font-size:var(--dm-now-playing-text-size);margin-bottom:10px}.dm__now-playing-title{color:var(--dm-now-playing-title-color);font-size:var(--dm-now-playing-title-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dm__playlist-slide{cursor:pointer;position:relative;display:inline-block;width:143px;vertical-align:top}.dm__playlist-slide:after{position:absolute;content:'';width:100%;height:100%;top:0;left:0}.dm__slide-wrapper{padding:5px}.dm__playlist-active .dm__playlist-title{--dm-playlist-title-background: var(--dm-playlist-active, #56C7FF)}.dm__playlist-cont-thumbnail{width:100%;position:relative;margin:0;overflow:hidden}.dm__playlist-cont-thumbnail:before{content:\"\";padding-top:56.25%;background:#ddd;display:block;-webkit-animation:slideInDown;animation:slideInDown;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:1;animation-iteration-count:1}.dm__playlist-thumbnail{width:100%;height:auto;display:block;position:absolute;top:0;left:0}.dm__playlist-duration{position:absolute;bottom:5px;right:5px;color:#fff !important;background:rgba(0,0,0,0.6) !important;padding:4px !important;font-size:.8em !important;font-family:inherit !important}.dm__playlist-title{color:var(--dm-playlist-color, #000) !important;font-weight:var(--dm-playlist-weight, 400) !important;margin:0 !important;padding:10px !important;background:var(--dm-playlist-title-background, #fff) !important;height:30px !important;line-height:1.3em !important;font-size:var(--dm-playlist-title-size, 0.9em) !important;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;-webkit-font-smoothing:antialiased;white-space:normal !important}.next{right:-40px}.prev{left:-40px}.next svg,.prev svg{width:25px}.arrow{fill:var(--arrow-color, #ddd)}.dm-playlist--right-side{--dm-playlist-display: flex;--dm-player-size: 50%;--dm-player-ratio: 29%;--dm-playlist-size: 40%;--dm-playlist-bg: #000;display:var(--dm-playlist-display);justify-content:flex-start;align-items:flex-start;background:var(--dm-playlist-bg)}.dm-playlist--right-side .dailymotion-cpe{width:var(--dm-player-size);padding-bottom:var(--dm-player-ratio)}.dm-playlist--right-side .dm-playlist{width:var(--dm-playlist-size)}@media (max-width: 767px){.dm-playlist--right-side{--dm-playlist-display: block;--dm-player-size: 100%;--dm-player-ratio: 56.25%;--dm-playlist-size: calc(100% - 80px)}}\n",""]),e.exports=t},function(e,t,n){var i=n(4),r=n(12);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},o=(i(r,a),r.locals?r.locals:{});e.exports=o},function(e,t,n){(t=n(5)(!1)).push([e.i,'.dailymotion-cpe:before{content:"";padding-top:56.25%;background:#000;display:block;-webkit-animation:slideInDown;animation:slideInDown;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:1;animation-iteration-count:1}.dm__pre-video-title{text-align:var(--dm-video-align, center) !important;margin:var(--dm-video-margin, 8px 0) !important;font-style:var(--dm-video-style, normal) !important;color:var(--dm-video-color, #000) !important;font-size:var(--dm-video-size, 1.2em) !important;font-weight:var(--dm-video-weight, 700) !important}.dm__info-card{background:var(--dm-info-card-bg, #eee) !important;padding:var(--dm-info-card-padding, 8px 13px) !important;display:flex;text-align:var(--dm-info-card-align, left) !important;--dm-title-align: left;--dm-title-weight: 700;--dm-title-size: 1.1em}.dm__text-wrapper{width:calc(100% - 80px);padding-right:13px}.dm__video-title{text-align:var(--dm-title-align, center) !important;margin:var(--dm-title-margin, 8px 0) !important;font-style:var(--dm-title-style, normal) !important;color:var(--dm-title-color, inherit) !important;font-size:var(--dm-title-size, 1em) !important;font-weight:var(--dm-title-weight, 400) !important;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100%}.dm__video-desc{text-align:var(--dm-desc-align, left) !important;margin:var(--dm-desc-margin, 0 0 8px) !important;font-style:var(--dm-desc-style, normal) !important;color:var(--dm-desc-color, inherit) !important;font-size:var(--dm-desc-size, 0.9em) !important;font-weight:var(--dm-desc-weight, inherit) !important;padding-top:13px;border-top:solid #666 1px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100%;display:-webkit-box !important;-webkit-box-orient:vertical;-webkit-line-clamp:1}.dm__ava-wrapper{width:80px}.dm__owner-ava{width:100%;height:auto}.dm-player{overflow:hidden;height:0}.dm-player .insider{display:none}.dm-player.dm-playback-ready{height:auto;-webkit-animation:showPlayer 1 1s;animation:showPlayer 1 1s;transform-origin:top}.dm-player.dm-playback-ready .insider{display:block}.dm-player .insider.dm-disabled:after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,0.6)}@-webkit-keyframes slideInDown{from{padding-top:0}to{padding-top:56.25%}}@keyframes slideInDown{from{padding-top:0}to{padding-top:56.25%}}@-webkit-keyframes showPlayer{from{transform:scaleY(0)}to{transform:scaleY(1)}}@keyframes showPlayer{from{transform:scaleY(0)}to{transform:scaleY(1)}}\n',""]),e.exports=t},,function(e,t,n){"use strict";n.r(t);var i=n(7),r=n(0),a=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};(function(e,t,n,i){new(n||(n=Promise))((function(r,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))})(void 0,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,Object(r.b)((function(){return document.querySelectorAll(".dm-player").length>0}),500,2e3,"Timeout to get DM placeholder")];case 1:return t.sent(),e=document.querySelectorAll(".dm-player"),new i.a(e),[2]}}))}));var o=function(){function e(){}return e.prototype.render=function(e,t){i.a.renderOnDemand(e,t)},e}();window.dmce=new o}]);
//# sourceMappingURL=dm-ce.min.js.map