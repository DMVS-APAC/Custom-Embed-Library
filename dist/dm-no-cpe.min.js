!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=15)}([function(t,e,r){"use strict";(function(t){r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a}));var n=r(2),i=null!=Object(n.a)("dmdebug")&&"false"!=Object(n.a)("dmdebug"),a=t.env.API_URL?t.env.API_URL:"https://api.dailymotion.com/"}).call(this,r(7))},function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return o}));var n=function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))},i=function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function a(t,e,r,a){return void 0===e&&(e=50),void 0===r&&(r=1/0),void 0===a&&(a=""),n(this,void 0,void 0,(function(){return i(this,(function(n){return[2,new Promise((function(n,i){var o=0,s=setInterval((function(){var l=t(),c=o>r||l;o+=e,l?(n(),clearInterval(s)):c&&(i(new Error("waitFor(): "+a)),clearInterval(s))}),e)}))]}))}))}function o(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){return[2,new Promise((function(e){setTimeout((function(){e()}),t)}))]}))}))}},function(t,e,r){"use strict";function n(t){return new URLSearchParams(window.location.search).get(t)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n=r(0);var i=function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))},a=function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function o(t){var e=this;return new Promise((function(r,n){return i(e,void 0,void 0,(function(){var e;return a(this,(function(i){switch(i.label){case 0:return[4,fetch(t)];case 1:return 200===(e=i.sent()).status?r(e.json()):n(),[2]}}))}))})).catch((function(t){!0===n.b&&console.log("API calling error")}))}var s=r(1);var l=function(){function t(){this.titleEl=null}return t.prototype.setVideoTitle=function(t){return this.titleEl=document.createElement("p"),this.titleEl.innerHTML=t,this.titleEl.className="dm__video-title",this.titleEl},t.prototype.cleanup=function(){delete this.titleEl,this.titleEl.remove()},t}(),c=function(){function t(){this.infoCardEl=null}return t.prototype.setInfoCard=function(t){this.infoCardEl=document.createElement("div"),this.infoCardEl.className="dm__info-card";var e=document.createElement("div");e.className="dm__text-wrapper";var r=document.createElement("p");r.innerHTML=t.title,r.className="dm__video-title";var n=document.createElement("p");n.innerHTML=t.description,n.className="dm__video-desc",e.append(r),e.append(n);var i=document.createElement("picture");i.className="dm__ava-wrapper";var a=document.createElement("img");return a.src=t["owner.avatar_190_url"],a.className="dm__owner-ava",i.append(a),this.infoCardEl.append(e),this.infoCardEl.append(i),this.infoCardEl},t.prototype.cleanup=function(){this.infoCardEl&&(this.infoCardEl.remove(),delete this.infoCardEl)},t}(),u=(r(8),function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))}),d=function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},f=function(){function t(t,e,r){this.id="",this.rootEl=null,this.playerParams=null,this.searchParams=null,this.videoParams=null,this.keywords=null,this.videoTitle=null,this.infoCard=null,this.players=[],this.cpeId=[],this.cpeParams={},this.multiplayerParams=null,this.rootEl=e,this.id=t,this.keywords=r,this.addEventListeners(),this.extractAttrs()}return t.prototype.addEventListeners=function(){var t=this;document.addEventListener("dm-api-ready",(function(e){e.detail===t.id&&t.loadDmPlayer(t.rootEl)})),document.addEventListener("dm-player-extracted",(function(e){e.detail===t.id&&t.prepareSearchParams()})),document.addEventListener("dm-search-params-ready",(function(e){e.detail===t.id&&(null===t.playerParams.videoId?t.searchVideo():t.getVideoInfo(t.playerParams.videoId,!0))})),document.addEventListener("dm-video-updated",(function(e){t.getVideoInfo(e.detail.videoId,!1)}))},t.prototype.extractAttrs=function(){var t=this.rootEl;this.playerParams={maxWordSearch:t.getAttribute("maxWordSearch")?Number(t.getAttribute("maxWordSearch")):15,minWordLength:t.getAttribute("minWordLength")?Number(t.getAttribute("minWordLength")):4,minWordSearch:t.getAttribute("minWordSearch")?Number(t.getAttribute("minWordSearch")):2,videoId:t.getAttribute("videoId")?t.getAttribute("videoId"):null,language:t.getAttribute("language")?t.getAttribute("language"):"",sort:t.getAttribute("sort")?t.getAttribute("sort"):"recent",owners:t.getAttribute("owners")?t.getAttribute("owners"):"",category:t.getAttribute("category")?t.getAttribute("category"):"",excludeIds:t.getAttribute("excludeIds")?t.getAttribute("excludeIds"):"",searchInPlaylist:!!t.getAttribute("searchInPlaylist")&&t.getAttribute("searchInPlaylist"),syndication:t.getAttribute("syndication")?t.getAttribute("syndication"):"",controls:"false"!=t.getAttribute("controls"),adsParams:t.getAttribute("adsParams")?t.getAttribute("adsParams"):"contextual",cpeId:t.getAttribute("cpeId")?t.getAttribute("cpeId").split(","):[""],keywordsSelector:t.getAttribute("keywordsSelector")?t.getAttribute("keywordsSelector"):null,startDate:t.getAttribute("startDate")?t.getAttribute("startDate"):null,getUpdatedVideo:"false"!=t.getAttribute("getUpdatedVideo"),preVideoTitle:t.getAttribute("preVideoTitle")?t.getAttribute("preVideoTitle"):null,showVideoTitle:"false"!=t.getAttribute("showVideoTitle")&&null!=t.getAttribute("showVideoTitle"),showInfoCard:"false"!=t.getAttribute("showInfoCard")&&null!=t.getAttribute("showInfoCard"),autoPlayMute:"false"!=t.getAttribute("autoPlayMute"),queueEnable:"false"!=t.getAttribute("queueEnable"),queueEnableNext:"false"!=t.getAttribute("queueEnableNext"),pipAtStart:"false"!=t.getAttribute("pipAtStart")&&null!=t.getAttribute("pipAtStart"),noStp:"false"!=t.getAttribute("noStp")&&null!=t.getAttribute("noStp"),noPip:"false"!=t.getAttribute("noPip")&&null!=t.getAttribute("noPip"),scrollToPause:"false"!=t.getAttribute("scrollToPause")&&null!=t.getAttribute("scrollToPause"),stpSound:"false"!=t.getAttribute("stpSound")&&null!=t.getAttribute("stpSound"),playerStyleEnable:"false"!=t.getAttribute("playerStyleEnable")&&null!=t.getAttribute("playerStyleEnable"),playerStyleColor:t.getAttribute("playerStyleColor")?t.getAttribute("playerStyleColor"):null},this.multiplayerParams={adCoverPlay:"true"==t.getAttribute("adCoverPlay"),closePip:"true"==t.getAttribute("closePip")},!0===n.b&&console.log("%c DM Player Params: ","background: #56C7FF; color: #232323",this.playerParams);var e=new CustomEvent("dm-player-extracted",{detail:this.id});document.dispatchEvent(e)},t.prototype.prepareSearchParams=function(){this.cpeId=this.playerParams.cpeId;var t=this.findKeywords(this.playerParams.keywordsSelector);this.searchParams={fields:this.playerParams.showInfoCard?"id,title,description,owner.avatar_190_url":"id,title",limit:1,sort:this.playerParams.sort},"relevance"===this.playerParams.sort&&(this.searchParams.search=this.keywords?this.keywords:t.sort((function(t,e){return e.length-t.length})).slice(0,this.playerParams.maxWordSearch).join(" ")),null!==this.playerParams.startDate&&(this.searchParams.created_after=new Date(this.playerParams.startDate).getTime()/1e3),this.playerParams.searchInPlaylist||(this.searchParams.private=1,this.searchParams.flags="no_live,exportable"+(this.playerParams.owners.length>0?"":",verified"),this.searchParams.longer_than=.35,this.playerParams.owners&&(this.searchParams.owners=this.playerParams.owners),this.playerParams.category&&(this.searchParams.channel=this.playerParams.category),this.playerParams.excludeIds&&(this.searchParams.exclude_ids=this.playerParams.excludeIds)),this.playerParams.language&&(this.searchParams.language=this.playerParams.language);var e=new CustomEvent("dm-search-params-ready",{detail:this.id});document.dispatchEvent(e)},t.prototype.loadDmPlayer=function(t){var e,r=document.createElement("div"),n="";""===this.playerParams.adsParams?n+="ads_params=contextual":n+="ads_params="+(e=this.playerParams.adsParams,String(e).replace(/&/g,"%26").replace(/=/g,"%3d")),""!==this.playerParams.syndication&&(n+="&syndication="+this.playerParams.syndication),!0!==this.playerParams.controls&&(n+="&controls="+this.playerParams.controls),r.setAttribute("class","dailymotion-cpe"),r.setAttribute("video-id",this.videoParams.private_id?this.videoParams.private_id:this.videoParams.id),r.setAttribute("query-string",n),!0===this.playerParams.pipAtStart&&r.setAttribute("pip-at-start",""),!0===this.playerParams.noStp&&r.setAttribute("no-stp",""),!0===this.playerParams.noPip&&r.setAttribute("no-pip",""),!1===this.playerParams.queueEnable&&r.setAttribute("no-queue",""),!1===this.playerParams.queueEnableNext&&r.setAttribute("no-autonext",""),!1!==this.playerParams.searchInPlaylist&&r.setAttribute("Playlist-id",this.playerParams.searchInPlaylist),null!==t.getAttribute("width")&&(this.playerParams.width=Number(t.getAttribute("width")),r.setAttribute("width",t.getAttribute("width"))),null!==t.getAttribute("height")&&(this.playerParams.height=Number(t.getAttribute("height")),r.setAttribute("height",t.getAttribute("height")));var i={};if(!0===this.playerParams.scrollToPause&&(i.scroll_to_pause=!0),!0===this.playerParams.stpSound&&(i.stp_sound=!0),!0===this.playerParams.playerStyleEnable&&(i.player_style_enable=!0),null!==this.playerParams.playerStyleColor&&(i.player_style_color=this.playerParams.playerStyleColor),this.cpeParams=i,t.appendChild(r),null!==this.playerParams.preVideoTitle){var a=function(t){var e=document.createElement("p");return e.innerHTML=t,e.className="dm__pre-video-title",e}(this.playerParams.preVideoTitle);t.insertAdjacentElement("afterbegin",a)}var o=new CustomEvent("dm-video-holder-ready");document.dispatchEvent(o)},t.prototype.setVideo=function(t,e){if(this.videoParams=t,e){var r=new CustomEvent("dm-api-ready",{detail:this.id});document.dispatchEvent(r)}this.updateVideoInfo()},t.prototype.updateVideoInfo=function(){if(!0===this.playerParams.showVideoTitle){var t=new l;null!==this.videoTitle&&this.videoTitle.remove(),this.videoTitle=t.setVideoTitle(this.videoParams.title),this.rootEl.insertAdjacentElement("afterend",this.videoTitle)}if(!0===this.playerParams.showInfoCard){var e=new c;null!==this.infoCard&&this.infoCard.remove(),this.infoCard=e.setInfoCard(this.videoParams),this.rootEl.insertAdjacentElement("afterend",this.infoCard)}},t.prototype.getVideoInfo=function(t,e){return u(this,void 0,void 0,(function(){var r;return d(this,(function(i){switch(i.label){case 0:return[4,o(n.a+"/video/"+t+"?fields="+this.searchParams.fields)];case 1:return r=i.sent(),this.setVideo(r,e),[2]}}))}))},t.prototype.searchVideo=function(){return u(this,void 0,void 0,(function(){var t,e,r=this;return d(this,(function(i){switch(i.label){case 0:return!0===n.b&&"relevance"===this.playerParams.sort&&console.log("%c DM related ","background: #56C7FF; color: #232323","Search: "+this.searchParams.search),[4,Object(s.b)((function(){return null!==r.searchParams}),100,5e3,"Timeout waiting for searchParams not null")];case 1:return i.sent(),t=Object.entries(this.searchParams).map((function(t){var e=t[0],r=t[1];return encodeURIComponent(e)+"="+encodeURIComponent(r)})).join("&"),[4,o(n.a+(this.playerParams.searchInPlaylist?"playlist/"+this.playerParams.searchInPlaylist+"/videos":"videos")+"?"+t)];case 2:return(e=i.sent())?e.total>0?(this.setVideo(e.list[0],!0),[3,6]):[3,3]:[3,6];case 3:return this.searchParams.search=this.searchParams.search.substring(0,this.searchParams.search.lastIndexOf(" ")),this.searchParams.search.split(" ").length>=this.playerParams.minWordSearch&&this.searchParams.search.length>0?[4,this.searchVideo()]:[3,5];case 4:return i.sent(),[3,6];case 5:!0===n.b&&console.log("%c DM related ","background: #56C7FF; color: #232323","Can not find related video. Fallback video used."),this.getFallbackVideo(),i.label=6;case 6:return[2]}}))}))},t.prototype.getFallbackVideo=function(){return u(this,void 0,void 0,(function(){var t,e;return d(this,(function(r){switch(r.label){case 0:return t=Math.floor(Date.now()/1e3),2592e3,[4,o(n.a+(this.playerParams.searchInPlaylist?"playlist/"+this.playerParams.searchInPlaylist+"/videos?":"videos?owners="+this.playerParams.owners)+(this.playerParams.getUpdatedVideo?"&created_after="+(t-2592e3):"")+"&sort=random&limit=1&fields="+this.searchParams.fields)];case 1:return(e=r.sent())&&(e.list.length>0?this.setVideo(e.list[0],!0):!0===n.b&&console.warn("DM related Unable to find a fallback video")),[2]}}))}))},t.prototype.findKeywords=function(t){var e=[""];if(null!==t)try{var r=document.querySelector(t);e=this.sanitizeKeywords(r.textContent?r.textContent:r.getAttribute("content"))}catch(e){!0===n.b&&console.error("Can't find selector: ",t)}else null===t&&void 0!==document.getElementsByTagName("h1")[0]&&(e=this.sanitizeKeywords(document.getElementsByTagName("h1")[0].textContent));return e},t.prototype.sanitizeKeywords=function(t){var e=this;return t.replace(/[^- \u3131-\uD79D a-zA-Z0-9 \u00C0-\u00FF \u0900-\u097F \u0621-\u064A \u0660-\u0669 \u0E00-\u0E7F \u0153]/g," ").split(" ").filter((function(t){return t.length>=e.playerParams.minWordLength}))},t}();e.a=f},function(t,e,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),o=[];function s(t){for(var e=-1,r=0;r<o.length;r++)if(o[r].identifier===t){e=r;break}return e}function l(t,e){for(var r={},n=[],i=0;i<t.length;i++){var a=t[i],l=e.base?a[0]+e.base:a[0],c=r[l]||0,u="".concat(l," ").concat(c);r[l]=c+1;var d=s(u),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(f)):o.push({identifier:u,updater:v(f,e),references:1}),n.push(u)}return n}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var o=a(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function p(t,e,r){var n=r.css,i=r.media,a=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),a&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var h=null,m=0;function v(t,e){var r,n,i;if(e.singleton){var a=m++;r=h||(h=c(e)),n=f.bind(null,r,a,!1),i=f.bind(null,r,a,!0)}else r=c(e),n=p.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var r=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var i=s(r[n]);o[i].references--}for(var a=l(t,e),c=0;c<r.length;c++){var u=s(r[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}r=a}}}},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(o=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([i]).join("\n")}var o,s,l;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),e.push(l))}},e}},,function(t,e){var r,n,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new h(t,e)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){var n=r(4),i=r(9);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});t.exports=o},function(t,e,r){(e=r(5)(!1)).push([t.i,'.dailymotion-cpe:before{content:"";padding-top:56.25%;background:#000;display:block;-webkit-animation:slideInDown;animation:slideInDown;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:1;animation-iteration-count:1}@-webkit-keyframes slideInDown{from{padding-top:0}to{padding-top:56.25%}}@keyframes slideInDown{from{padding-top:0}to{padding-top:56.25%}}.dm__pre-video-title{text-align:var(--dm-video-align, center) !important;margin:var(--dm-video-margin, 8px 0) !important;font-style:var(--dm-video-style, normal) !important;color:var(--dm-video-color, #000) !important;font-size:var(--dm-video-size, 1.2em) !important;font-weight:var(--dm-video-weight, 700) !important}.dm__info-card{background:var(--dm-info-card-bg, #eee) !important;padding:var(--dm-info-card-padding, 8px 13px) !important;display:flex;text-align:var(--dm-info-card-align, left) !important;--dm-title-align: left;--dm-title-weight: 700;--dm-title-size: 1.1em}.dm__text-wrapper{width:calc(100% - 80px);padding-right:13px}.dm__video-title{text-align:var(--dm-title-align, center) !important;margin:var(--dm-title-margin, 8px 0) !important;font-style:var(--dm-title-style, normal) !important;color:var(--dm-title-color, inherit) !important;font-size:var(--dm-title-size, 1em) !important;font-weight:var(--dm-title-weight, 400) !important;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100%}.dm__video-desc{text-align:var(--dm-desc-align, left) !important;margin:var(--dm-desc-margin, 0 0 8px) !important;font-style:var(--dm-desc-style, normal) !important;color:var(--dm-desc-color, inherit) !important;font-size:var(--dm-desc-size, 0.9em) !important;font-weight:var(--dm-desc-weight, inherit) !important;padding-top:13px;border-top:solid #666 1px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:100%;display:-webkit-box !important;-webkit-box-orient:vertical;-webkit-line-clamp:1}.dm__ava-wrapper{width:80px}.dm__owner-ava{width:100%;height:auto}.dm-player .insider.dm-disabled:after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,0.6)}\n',""]),t.exports=e},function(t,e,r){"use strict";function n(t,e,r){return e>t?e:r<t?r:t}function i(t){return+(t>0)-+(t<0)}var a,o={};function s(t){return"-"+t[0].toLowerCase()}function l(t){return o[t]||(o[t]=t.replace(/([A-Z])/g,s))}function c(t,e){return t&&0!==t.length?t.nodeName?[t]:[].slice.call(t[0].nodeName?t:(e||document.documentElement).querySelectorAll(t)):[]}function u(t,e){for(var r in e)r.indexOf("_")&&t.setAttribute("data-"+l(r),e[r])}var d=[];function f(){a=0,d.slice().forEach((function(t){return t()})),p()}function p(){!a&&d.length&&(a=requestAnimationFrame(f))}function h(t,e,r,n){return"function"==typeof t?t(e,r,n):t}function m(){}t.exports=function(t){var e,r,o,s,f=(t=t||{}).onChange||m,v=t.onHidden||m,y=t.onShown||m,b=t.onScroll||m,g=t.cssProps?(e=t.cssProps,function(t,r){for(var n in r)n.indexOf("_")&&(!0===e||e[n])&&t.style.setProperty("--"+l(n),(i=r[n],Math.round(1e4*i)/1e4));var i}):m,w=t.scrollingElement,P=w?c(w)[0]:window,A=w?c(w)[0]:document.documentElement,E=!1,x={},S=[];function T(){S=c(t.targets||"[data-scroll]",c(t.scope||A)[0]).map((function(t){return{element:t}}))}function _(){var e=A.clientWidth,l=A.clientHeight,c=i(-r+(r=A.scrollLeft||window.pageXOffset)),u=i(-o+(o=A.scrollTop||window.pageYOffset)),f=A.scrollLeft/(A.scrollWidth-e||1),m=A.scrollTop/(A.scrollHeight-l||1);E=E||x.scrollDirX!==c||x.scrollDirY!==u||x.scrollPercentX!==f||x.scrollPercentY!==m,x.scrollDirX=c,x.scrollDirY=u,x.scrollPercentX=f,x.scrollPercentY=m;for(var v,y=!1,b=0;b<S.length;b++){var g=S[b],w=g.element,T=w,_=0,k=0;do{_+=T.offsetLeft,k+=T.offsetTop,T=T.offsetParent}while(T&&T!==P);var I=w.clientHeight||w.offsetHeight||0,L=w.clientWidth||w.offsetWidth||0,V=(n(_+L,r,r+e)-n(_,r,r+e))/L,D=(n(k+I,o,o+l)-n(k,o,o+l))/I,j=1===V?0:i(_-r),M=1===D?0:i(k-o),N=n((r-(L/2+_-e/2))/(e/2),-1,1),O=n((o-(I/2+k-l/2))/(l/2),-1,1),F=void 0;F=t.offset?h(t.offset,w,g,A)<=o?1:0:(h(t.threshold,w,g,A)||0)<V*D?1:0;var W=g.visible!==F;(g._changed||W||g.visibleX!==V||g.visibleY!==D||g.index!==b||g.elementHeight!==I||g.elementWidth!==L||g.offsetX!==_||g.offsetY!==k||g.intersectX!=g.intersectX||g.intersectY!=g.intersectY||g.viewportX!==N||g.viewportY!==O)&&(y=!0,g._changed=!0,g._visibleChanged=W,g.visible=F,g.elementHeight=I,g.elementWidth=L,g.index=b,g.offsetX=_,g.offsetY=k,g.visibleX=V,g.visibleY=D,g.intersectX=j,g.intersectY=M,g.viewportX=N,g.viewportY=O,g.visible=F)}s||!E&&!y||(v=C,d.push(v),p(),s=function(){!(d=d.filter((function(t){return t!==v}))).length&&a&&(cancelAnimationFrame(a),a=0)})}function C(){k(),E&&(E=!1,u(A,{scrollDirX:x.scrollDirX,scrollDirY:x.scrollDirY}),g(A,x),b(A,x,S));for(var e=S.length-1;e>-1;e--){var r=S[e],n=r.element,i=r.visible;r._changed&&(r._changed=!1,g(n,r)),r._visibleChanged&&(u(n,{scroll:i?"in":"out"}),f(n,r,A),(i?y:v)(n,r,A)),i&&t.once&&S.splice(e,1)}}function k(){s&&(s(),s=void 0)}T(),_(),C();var I=0,L=function(){I=I||setTimeout((function(){I=0,_()}),0)};return window.addEventListener("resize",L),P.addEventListener("scroll",L),{index:T,update:_,teardown:function(){k(),window.removeEventListener("resize",L),P.removeEventListener("scroll",L)}}}},,,function(t,e,r){var n=r(4),i=r(14);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1},o=(n(i,a),i.locals?i.locals:{});t.exports=o},function(t,e,r){(e=r(5)(!1)).push([t.i,".dailymotion-cpe{position:relative}.dailymotion-no-cpe{position:absolute;top:0;left:0;width:100%;height:100%}\n",""]),t.exports=e},function(t,e,r){"use strict";r.r(e);var n=r(1),i=r(3),a=r(10),o=r.n(a),s=(r(13),function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))}),l=function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(){function t(t,e){this.rootEls=null,this.keywords=null,this.dm=null,this.pauseOnClick=!1,this.onViewport=!1,this.rootEls=t,this.keywords=e,this.renderElement(),this.addEventListeners()}return t.prototype.addEventListeners=function(){return s(this,void 0,void 0,(function(){var t=this;return l(this,(function(e){switch(e.label){case 0:return[4,Object(n.b)((function(){return null!==t.dm}),500,1e4,"Timeout waiting player to be ready")];case 1:return e.sent(),this.dm.addEventListener("apiready",(function(){t.listenToScroll()})),this.dm.addEventListener("pause",(function(e){console.log("pause",e),!0===t.onViewport&&(t.pauseOnClick=!0)})),this.dm.addEventListener("play",(function(e){console.log("play",e),!0===t.onViewport&&!0===t.pauseOnClick&&(t.pauseOnClick=!1)})),[2]}}))}))},t.prototype.listenToScroll=function(){var t=this;o()({targets:this.rootEls[0],onShown:function(e,r,n){!0===t.dm.paused&&!1===t.pauseOnClick&&t.dm.play(),t.onViewport=!0},onHidden:function(e,r,n){!0!==t.dm.paused&&t.dm.pause(),t.onViewport=!1}})},t.prototype.renderElement=function(){return s(this,void 0,void 0,(function(){var e,r,a;return l(this,(function(o){switch(o.label){case 0:e=function(e){var a,o;return l(this,(function(s){switch(s.label){case 0:return t.player[e]=new i.a("dm_"+e,r.rootEls[e],0===e&&null!==r.keywords?r.keywords:null),a=t.player[e],[4,Object(n.b)((function(){return null!==a.videoParams}),500,1e4,"Timeout waiting videoPaarms")];case 1:return s.sent(),(o=document.createElement("div")).className="dailymotion-no-cpe",r.rootEls[e].querySelector(".dailymotion-cpe").appendChild(o),r.dm=DM.player(o,{video:a.videoParams.id,params:{mute:!0}}),[2]}}))},r=this,a=0,o.label=1;case 1:return a<this.rootEls.length?[5,e(a)]:[3,4];case 2:o.sent(),o.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))},t.player=[],t}(),u=function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))},d=function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};!function(){var t=document.createElement("script");t.async=!0,t.src="https://api.dmcdn.net/all.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();u(void 0,void 0,void 0,(function(){var t;return d(this,(function(e){switch(e.label){case 0:return[4,Object(n.b)((function(){return document.querySelectorAll(".dm-player").length>0}),500,5e3,"Timeout to get DM placeholder")];case 1:return e.sent(),[4,Object(n.b)((function(){return"undefined"!=typeof DM}),500,1e4,"Timeout to get DM sdk")];case 2:return e.sent(),t=document.querySelectorAll(".dm-player"),new c(t),[2]}}))}))}]);
//# sourceMappingURL=dm-no-cpe.min.js.map